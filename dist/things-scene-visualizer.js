!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],h=0,f=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([17,1]),n()}([,function(e,t){e.exports=scene},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDJCOEFFMzE4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDJCOEFFMzI4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MkI4QUUyRjhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MkI4QUUzMDhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhgJDSMAAAjnSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUFDMTQzOTI4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUFDMTQzOTM4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MkI4QUUzMzhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MkI4QUUzNDhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgovAwUAAAjKSURBVHja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"},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUFDMTQzOTY4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUFDMTQzOTc4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QUMxNDM5NDhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QUMxNDM5NThCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqF6vDMAAAi7SURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUM0QkYzRkI4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUM0QkYzRkM4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QzRCRjNGOThBRjMxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QzRCRjNGQThBRjMxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn5aY/8AAAWhSURBVHja7FpLbBtFGF7vete7jh9p7MTNCzspCU3SqEGRoIFCU6WoJxAHFKkCygGVckBciihS4QZSgcAFTiA4FJVIRXBFoKRNWyEDbVBok5S2NI7zcuLYsR3bu/E+md/ZjVzXTuKkTeziX/rk8ew8vm/++Wdndlfn7jmGZTASoVNFK0K5mrcdxiL4EW4iXEC4iCCkF9JnqHgQ4W2EWiw/zIjgUnEYYRLhC4TzqYXwtDQI+DSPRGQy4PaJyhXPJOQthKNY4dhRlfNdQroKTESqmC5NCATxCaxwDbiTIOQQQkUBCwHuz+nVJXZVszW2W+sOvezUM6aclmCRiwmevrPe4K3ByAMW0wkeaV6r1EZEJNd2VAfqboFXmkCIbT2ENtrDZurmYHYQQmGFbySOPST2/xICq89GOxC5uJA3Qjz933s3Qkhgo4Kn/6x3K4To11MoePNqBOFaMUbywSP7TnzVng9Ef//sjcENCSFIA972+kctyzHSOz43dCG4HQIcbQdtdV1HXO1v9rQOfXNqRBISck5Cap56wUGWWCg2MM3ODQ0EyxrbLY3PH2/AFEXJaSQ/P/7XWh6G0c6WD3079j5bYbRXG4GT9+IPvnXHiMFiIx17D+yE9MSlH9HRUsF2HX6tLnlRp9PlhE2bonJA3kGcgNu6hTxy4KUqnKTwyPhoOOwZjiHXVhMUrd+u+AAOwAU4AbdMZXTunmNXUzNMlfXMniMnmxVFVq5/9+EImlqJvHgCYa82tL76fotOh+uGez8ejfnGuFVjxNnZXYumBDY/7PaDiNZXTj1W4nCa7tdqk8sqmFoXuMyPuP0VrfsdwHGk9/StrFPL3vREqbmq3iwlOHHi8k++8uaOUhChSKKSK5JTYuz6wv30CnACbsARuGb1SKlrjwV+Z6784kP7K2l+1B1GGNzK+8Eaez4JuNXuf7EWuAZu/BnOKMTevK88+eAIFQTk850cuP7787cTD/cWRXO7FpCbmQYPwlbjVTwhFoUUhRSFFIVsi92z+y16JIvNRQXTlgsJsRLj9sTrtfTQNFuTPLMHE2UjPq5yIx0MTrL1Wy5kh5HgQpxoiiVkaj4mmGYiQhkvKYSAQBI6EcrAf7ieKh7y4DfTdc3S81L/p9aHfO1aelvZ2tb2WvAe26hlMHqcj/MStbgkGyEdYkUmGJfMOy36MHhmPMgn3265bJS/zmZYGJpinTSJ87YSIorESle8yx6tLiWDjRX0PKQv34k1iIiElgeeji7JDOS11Ri9vCQTYwG+oqOuZGwmwluhjpUhuL+nOSeD2naY9eEqKxXJ1LZqAngkkKrMTBNchJOY6JLEQAVIi7JCGCmcry6lIk/vMt2G/NlFMXmw4USZ2u2gfdCwdyFhA4FQZnyBX3md96SrZKy5kp6CAYERDcUl0zOoDJT1hhIZ389Av2VGfexxJNSFBixb26oFwCO34XmDlmOhcTbpKjS6QD4QF83RhMQ4zGRsKsxbPcgjZhrn0qck/CIvMgusZAKRZgOxUoZCbWlp8DZ4MHkOR+1rA5JuQH50ljNcuhPd3eSgp7K1rdoNEDKAqa94tcavzXDOKiu5UMroOSAOUwyuTYYEWx0aFZaXKQ4RSu/cogpsqWR82ebyDqOeiya4ZFzBqGt1wOuQB1MaBjOO6j9qp/1WmmCB/BptD8DU6sOWv/VIWglFLI8WiSdMBpznBHllBCFORmeXalDwZ3w01FBB+zlBoX79Z7FFm+vpBt5pKDf4fkNxA6ShDngbrv0xHq9nSF2yrzAnMhATEJP1dsq/StvAvU+nflQDr6hPF+i98D0Qoi2/4JUzBSjijMr9rvvIlwjnCkjEOZXzPTdEueOdr+Grm3ex5U+J8tWA20l0fgeucta9FhID30F1I3yALX8TNQOLyjYSF1UO51VO3Yhjf3qh/wQYAHEy8mJScPFTAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUM0QkYzRjc4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUM0QkYzRjg4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQjFBNDg0QThBREMxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QzRCRjNGNjhBRjMxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlIyOg4AAAXrSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUM0QkYzRkY4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUM0QkY0MDA4QUYzMTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QzRCRjNGRDhBRjMxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QzRCRjNGRThBRjMxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoSZBN8AAAa5SURBVHja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"},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzZFODVFMzA4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzZFODVFMzE4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNkU4NUUyRThCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNkU4NUUyRjhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmgtPn0AAAfMSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzZFODVFMzQ4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzZFODVFMzU4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNkU4NUUzMjhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNkU4NUUzMzhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps21+4gAAAdsSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzZFODVFMzg4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDJCOEFFMkE4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNkU4NUUzNjhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNkU4NUUzNzhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkvMcdAAAAfrSURBVHja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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDJCOEFFMkQ4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDJCOEFFMkU4QjI1MTFFOEEwNzhBOTM1NkE0RTk0QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MkI4QUUyQjhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MkI4QUUyQzhCMjUxMUU4QTA3OEE5MzU2QTRFOTRBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pse71KEAAAgQSURBVHja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"},function(e,t,n){e.exports=n(19)},,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a={},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"register",value:function(e,t){if(!t)return a[e];a[e]=t}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=l(this,f(t).call(this)))._model=e,o._visualizer=r,o._canvasSize=n,o.name=o.model.id,o.createObject(),o.setPosition(),o.setRotation(),o.setOpacity(),o}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"dispose",value:function(){var e=this;this.children.slice().forEach((function(t){t.dispose&&t.dispose(),t.geometry&&t.geometry.dispose&&t.geometry.dispose(),t.material&&t.material.dispose&&t.material.dispose(),t.texture&&t.texture.dispose&&t.texture.dispose(),e.remove(t)}))}},{key:"onBeforeRender",value:function(){h(f(t.prototype),"onBeforeRender",this).call(this)}},{key:"createObject",value:function(){}},{key:"setPosition",value:function(){this.position.set(this.cx,this.cz,this.cy)}},{key:"setRotation",value:function(){var e=this.model,t=e.rotationX,n=void 0===t?0:t,r=e.rotationY,o=void 0===r?0:r,i=e.rotation,a=void 0===i?0:i;this.rotation.x=-n,this.rotation.y=-a,this.rotation.z=-o}},{key:"setOpacity",value:function(){var e=this.model.alpha;e=null==e?1:e,this.traverse((function(t){var n=t.material;t.material&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t.opacity*=e,t.transparent=e<1})))}))}},{key:"onUserDataChanged",value:function(){if(this.userData){if(this.userData.hasOwnProperty("position")){if(!this._visualizer)return;this._setPosition(this._visualizer.transcoord2dTo3d(this.userData.position))}this.userData.hasOwnProperty("euler")&&this._setEuler({yaw:this.userData.euler.yaw,pitch:this.userData.euler.pitch,roll:this.userData.euler.roll}),this.userData.hasOwnProperty("quaternion")&&this._setQuaternion({x:this.userData.quaternion.qx,y:this.userData.quaternion.qy,z:this.userData.quaternion.qz,w:this.userData.quaternion.qw})}}},{key:"_setPosition",value:function(e){var t=e.x,n=e.y,r=this._visualizer.mixers.indexOf(this._mixer);r>=0&&this._visualizer.mixers.splice(r,1),this._mixer=new o.AnimationMixer(this),this._visualizer.mixers.push(this._mixer);var i=new o.VectorKeyframeTrack(".position",[0,1],[this.position.x,this.position.y,this.position.z,t,this.position.y,n]),a=new o.AnimationClip("Move",2,[i]),s=this._mixer.clipAction(a);s.clampWhenFinished=!0,s.loop=o.LoopOnce,s.play()}},{key:"_setQuaternion",value:function(e){var t=e.x,n=e.y,r=e.z,i=e.w,a=new o.Quaternion;a.set(t,n,r,i),this.setRotationFromQuaternion(a),this.rotateOnAxis(new o.Vector3(1,0,0),-Math.PI),this.rotateOnAxis(new o.Vector3(0,1,0),Math.PI),this.rotateOnAxis(new o.Vector3(0,0,1),-Math.PI/2)}},{key:"_setEuler",value:function(e){var t=e.yaw,n=e.pitch,r=e.roll,i=new o.Euler;i.set(t,n,r,"ZYX"),this.setRotationFromEuler(i)}},{key:"model",get:function(){return this._model}},{key:"type",get:function(){return this.model.type||this._type},set:function(e){this._type=e}},{key:"cx",get:function(){if(!this._cx){var e=this.model,t=e.left,n=void 0===t?0:t,r=e.width,o=void 0===r?0:r,i=this._canvasSize;this._cx=n+o/2-i.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.model,t=e.top,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=this._canvasSize;this._cy=n+o/2-i.height/2}return this._cy}},{key:"cz",get:function(){if(!this._cz){var e=this.model,t=e.zPos,n=void 0===t?0:t,r=e.depth,o=void 0===r?1:r;this._cz=n+o/2}return this._cz}}])&&u(n.prototype,r),i&&u(n,i),t}(o.Object3D);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"z-pos",name:"zPos",property:"zPos"},{type:"number",label:"depth",name:"depth",property:"depth"},{type:"number",label:"rotation",name:"rotation",property:"rotation"},{type:"color",label:"box-color",name:"boxColor",property:"boxColor"}]},j=function(e){function t(){return m(this,t),g(this,w(t).apply(this,arguments))}return k(t,e),v(t,[{key:"createObject",value:function(){var e=this.model,t=e.width,n=void 0===t?1:t,r=e.height,o=void 0===r?1:r,i=e.depth,a=void 0===i?1:i;this.add(this.createCube(n,o,a));var s=this.createTextureBoard(n,a);this.add(s),s.position.set(0,0,.5*o)}},{key:"createCube",value:function(e,t,n){var r=this.model.boxColor,i=void 0===r?"#ccaa76":r,a=new o.BoxBufferGeometry(e,n,t),s=new o.MeshLambertMaterial({color:i,side:o.FrontSide});return new o.Mesh(a,s)}},{key:"createTextureBoard",value:function(e,t){var n,r=this,i=this.model.fillStyle,a=void 0===i?"#ccaa76":i;if(a&&"pattern"==a.type&&a.image){var s=this._visualizer._textureLoader.load(this._visualizer.app.url(a.image),(function(){s.minFilter=o.LinearFilter,s.repeat.set(1,1),r._visualizer.render_threed()}));n=new o.MeshLambertMaterial({map:s})}else n=new o.MeshLambertMaterial({color:a||"#ccaa76",side:o.FrontSide});var c=new o.PlaneBufferGeometry(e,t,1,1);return new o.Mesh(c,n)}},{key:"raycast",value:function(e,t){}}]),t}(p),x=function(e){function t(){return m(this,t),g(this,w(t).apply(this,arguments))}return k(t,e),v(t,[{key:"is3dish",value:function(){return!0}},{key:"nature",get:function(){return A}},{key:"controls",get:function(){}}]),t}(r.Rect);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("banner",x),s.register("banner",j);var P=function(e){function t(){return M(this,t),E(this,T(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(r=[{key:"createObject",value:function(){var e=this.model,t=e.width,n=e.height,r=e.location,o=Math.min(t,n);r&&(this.name=r);for(var i=0;i<3;i++)this.createSensor(o*(1+.5*i)/2,i).material.opacity=.5-.15*i}},{key:"createSensor",value:function(e,t){var n,r=0===t,i=new o.SphereBufferGeometry(e,32,32);n=r?new o.MeshLambertMaterial({color:"#57a1d6",side:o.FrontSide}):new o.MeshBasicMaterial({color:"#57a1d6",side:o.FrontSide,wireframe:!0,wireframeLinewidth:1});var a=new o.Mesh(i,n);return a.material.transparent=!0,this.add(a),a}},{key:"cz",get:function(){var e=this.model,t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=e.zPos,a=void 0===i?0:i;if(!this._cz){var s=Math.min(n,o);this._cz=a+s}return this._cz}}])&&_(n.prototype,r),i&&_(n,i),t}(p);s.register("beacon",P);var z=n(2),C=n.n(z),N=n(4),I=n.n(N);function D(e){this.manager=void 0!==e?e:o.DefaultLoadingManager}D.prototype={constructor:D,load:function(e,t,n,r){var i=this,a=new o.Texture,s=new o.FileLoader(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,(function(e){a.image=i.parse(e),a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a},parse:function(e){var t=0,n=1,r=2,o=3,i=9,a=10,s=11,c=48,u=4,l=0,h=1,f=2,d=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var p=new Uint8Array(e),y=0,m={id_length:p[y++],colormap_type:p[y++],image_type:p[y++],colormap_index:p[y++]|p[y++]<<8,colormap_length:p[y++]|p[y++]<<8,colormap_size:p[y++],origin:[p[y++]|p[y++]<<8,p[y++]|p[y++]<<8],width:p[y++]|p[y++]<<8,height:p[y++]|p[y++]<<8,pixel_size:p[y++],flags:p[y++]};!function(e){switch(e.image_type){case n:case i:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case o:case a:case s:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(m),m.id_length+y>e.length&&console.error("THREE.TGALoader: No data."),y+=m.id_length;var b=!1,v=!1,g=!1;switch(m.image_type){case i:b=!0,v=!0;break;case n:v=!0;break;case a:b=!0;break;case r:break;case s:b=!0,g=!0;break;case o:g=!0}var w="undefined"!=typeof OffscreenCanvas,k=w?new OffscreenCanvas(m.width,m.height):document.createElement("canvas");k.width=m.width,k.height=m.height;var O=k.getContext("2d"),A=O.createImageData(m.width,m.height),j=function(e,t,n,r,o){var i,a,s,c;if(a=n.pixel_size>>3,s=n.width*n.height*a,t&&(c=o.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){var u,l,h;i=new Uint8Array(s);for(var f=0,d=new Uint8Array(a);f<s;)if(l=1+(127&(u=o[r++])),128&u){for(h=0;h<a;++h)d[h]=o[r++];for(h=0;h<l;++h)i.set(d,f+h*a);f+=a*l}else{for(l*=a,h=0;h<l;++h)i[f+h]=o[r++];f+=l}}else i=o.subarray(r,r+=t?n.width*n.height:s);return{pixel_data:i,palettes:c}}(b,v,m,y,p);!function(e,t,n,r,o){var i,a,s,p,y,b;switch((m.flags&c)>>u){default:case f:i=0,s=1,y=t,a=0,p=1,b=n;break;case l:i=0,s=1,y=t,a=n-1,p=-1,b=-1;break;case d:i=t-1,s=-1,y=-1,a=0,p=1,b=n;break;case h:i=t-1,s=-1,y=-1,a=n-1,p=-1,b=-1}if(g)switch(m.pixel_size){case 8:!function(e,t,n,r,o,i,a,s){var c,u,l,h=0,f=m.width;for(l=t;l!==r;l+=n)for(u=o;u!==a;u+=i,h++)c=s[h],e[4*(u+f*l)+0]=c,e[4*(u+f*l)+1]=c,e[4*(u+f*l)+2]=c,e[4*(u+f*l)+3]=255}(e,a,p,b,i,s,y,r);break;case 16:!function(e,t,n,r,o,i,a,s){var c,u,l=0,h=m.width;for(u=t;u!==r;u+=n)for(c=o;c!==a;c+=i,l+=2)e[4*(c+h*u)+0]=s[l+0],e[4*(c+h*u)+1]=s[l+0],e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+3]=s[l+1]}(e,a,p,b,i,s,y,r);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(m.pixel_size){case 8:!function(e,t,n,r,o,i,a,s,c){var u,l,h,f=c,d=0,p=m.width;for(h=t;h!==r;h+=n)for(l=o;l!==a;l+=i,d++)u=s[d],e[4*(l+p*h)+3]=255,e[4*(l+p*h)+2]=f[3*u+0],e[4*(l+p*h)+1]=f[3*u+1],e[4*(l+p*h)+0]=f[3*u+2]}(e,a,p,b,i,s,y,r,o);break;case 16:!function(e,t,n,r,o,i,a,s){var c,u,l,h=0,f=m.width;for(l=t;l!==r;l+=n)for(u=o;u!==a;u+=i,h+=2)c=s[h+0]+(s[h+1]<<8),e[4*(u+f*l)+0]=(31744&c)>>7,e[4*(u+f*l)+1]=(992&c)>>2,e[4*(u+f*l)+2]=(31&c)>>3,e[4*(u+f*l)+3]=32768&c?0:255}(e,a,p,b,i,s,y,r);break;case 24:!function(e,t,n,r,o,i,a,s){var c,u,l=0,h=m.width;for(u=t;u!==r;u+=n)for(c=o;c!==a;c+=i,l+=3)e[4*(c+h*u)+3]=255,e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+1]=s[l+1],e[4*(c+h*u)+0]=s[l+2]}(e,a,p,b,i,s,y,r);break;case 32:!function(e,t,n,r,o,i,a,s){var c,u,l=0,h=m.width;for(u=t;u!==r;u+=n)for(c=o;c!==a;c+=i,l+=4)e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+1]=s[l+1],e[4*(c+h*u)+0]=s[l+2],e[4*(c+h*u)+3]=s[l+3]}(e,a,p,b,i,s,y,r);break;default:console.error("THREE.TGALoader: Format not supported.")}}(A.data,m.width,m.height,j.pixel_data,j.palettes);return O.putImageData(A,0,0),w?k.transferToImageBitmap():k},setPath:function(e){return this.path=e,this}};var Z=D;function G(e){this.manager=void 0!==e?e:o.DefaultLoadingManager}G.prototype={constructor:G,crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=void 0===i.path?o.LoaderUtils.extractUrlBase(e):i.path,s=new o.FileLoader(i.manager);s.setPath(i.path),s.load(e,(function(e){t(i.parse(e,a))}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){function n(e,t){for(var n=[],r=e.childNodes,o=0,i=r.length;o<i;o++){var a=r[o];a.nodeName===t&&n.push(a)}return n}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=t[r];return n}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=parseFloat(t[r]);return n}function a(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=parseInt(t[r]);return n}function s(e){return e.substring(1)}function c(e){return 0===Object.keys(e).length}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function l(e){return void 0!==e?e.textContent:"Y_UP"}function h(e,t,r,o){var i=n(e,t)[0];if(void 0!==i)for(var a=n(i,r),s=0;s<a.length;s++)o(a[s])}function f(e,t){for(var n in e){e[n].build=t(e[n])}}function d(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function p(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"input":var i=s(o.getAttribute("source")),a=o.getAttribute("semantic");t.inputs[a]=i}}return t}function y(e){var t={},n=e.getAttribute("target").split("/"),r=n.shift(),o=n.shift(),i=-1!==o.indexOf("("),a=-1!==o.indexOf(".");if(a)n=o.split("."),o=n.shift(),t.member=n.shift();else if(i){var c=o.split("(");o=c.shift();for(var u=0;u<c.length;u++)c[u]=parseInt(c[u].replace(/\)/,""));t.indices=c}return t.id=r,t.sid=o,t.arraySyntax=i,t.memberSyntax=a,t.sampler=s(e.getAttribute("source")),t}function m(e){var t=[],n=e.channels,r=e.samplers,o=e.sources;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i],s=r[a.sampler],c=s.inputs.INPUT,u=s.inputs.OUTPUT;O(v(a,o[c],o[u]),t)}return t}function b(e){return d(Je.animations[e],m)}function v(e,t,n){var r,o,i,a,s,c,u=Je.nodes[e.id],l=De(u.id),h=u.transforms[e.sid],f=u.matrix.clone().transpose(),d={};switch(h){case"matrix":for(i=0,a=t.array.length;i<a;i++)if(r=t.array[i],o=i*n.stride,void 0===d[r]&&(d[r]={}),!0===e.arraySyntax){var p=n.array[o],y=e.indices[0]+4*e.indices[1];d[r][y]=p}else for(s=0,c=n.stride;s<c;s++)d[r][s]=n.array[o+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h)}var m=function(e,t){var n=[];for(var r in e)n.push({time:parseFloat(r),value:e[r]});n.sort((function(e,t){return e.time-t.time}));for(var o=0;o<16;o++)A(n,o,t.elements[o]);return n}(d,f);return{name:l.uuid,keyframes:m}}var g=new o.Vector3,w=new o.Vector3,k=new o.Quaternion;function O(e,t){for(var n=e.keyframes,r=e.name,i=[],a=[],s=[],c=[],u=0,l=n.length;u<l;u++){var h=n[u],f=h.time,d=h.value;Se.fromArray(d).transpose(),Se.decompose(g,k,w),i.push(f),a.push(g.x,g.y,g.z),s.push(k.x,k.y,k.z,k.w),c.push(w.x,w.y,w.z)}return a.length>0&&t.push(new o.VectorKeyframeTrack(r+".position",i,a)),s.length>0&&t.push(new o.QuaternionKeyframeTrack(r+".quaternion",i,s)),c.length>0&&t.push(new o.VectorKeyframeTrack(r+".scale",i,c)),t}function A(e,t,n){var r,o,i,a=!0;for(o=0,i=e.length;o<i;o++)void 0===(r=e[o]).value[t]?r.value[t]=null:a=!1;if(!0===a)for(o=0,i=e.length;o<i;o++)(r=e[o]).value[t]=n;else!function(e,t){for(var n,r,o=0,i=e.length;o<i;o++){var a=e[o];if(null===a.value[t]){if(n=j(e,o,t),r=x(e,o,t),null===n){a.value[t]=r.value[t];continue}if(null===r){a.value[t]=n.value[t];continue}S(a,n,r,t)}}}(e,t)}function j(e,t,n){for(;t>=0;){var r=e[t];if(null!==r.value[n])return r;t--}return null}function x(e,t,n){for(;t<e.length;){var r=e[t];if(null!==r.value[n])return r;t++}return null}function S(e,t,n,r){n.time-t.time!=0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function M(e){for(var t=[],n=e.name,r=e.end-e.start||-1,i=e.animations,a=0,s=i.length;a<s;a++)for(var c=b(i[a]),u=0,l=c.length;u<l;u++)t.push(c[u]);return new o.AnimationClip(n,r,t)}function _(e){return d(Je.clips[e],M)}function E(e){for(var t={sources:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(o.textContent);break;case"source":var a=o.getAttribute("id");t.sources[a]=ae(o);break;case"joints":t.joints=T(o);break;case"vertex_weights":t.vertexWeights=R(o)}}return t}function T(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"input":var i=o.getAttribute("semantic"),a=s(o.getAttribute("source"));t.inputs[i]=a}}return t}function R(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"input":var i=o.getAttribute("semantic"),c=s(o.getAttribute("source")),u=parseInt(o.getAttribute("offset"));t.inputs[i]={id:c,offset:u};break;case"vcount":t.vcount=a(o.textContent);break;case"v":t.v=a(o.textContent)}}return t}function P(e){var t={id:e.id},n=Je.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,n,r,i={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},a=e.sources,s=e.vertexWeights,c=s.vcount,u=s.v,l=s.inputs.JOINT.offset,h=s.inputs.WEIGHT.offset,f=e.sources[e.joints.inputs.JOINT],d=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=a[s.inputs.WEIGHT.id].array,y=0;for(t=0,r=c.length;t<r;t++){var m=c[t],b=[];for(n=0;n<m;n++){var v=u[y+l],g=u[y+h],w=p[g];b.push({index:v,weight:w}),y+=2}for(b.sort(j),n=0;n<4;n++){var k=b[n];void 0!==k?(i.indices.array.push(k.index),i.weights.array.push(k.weight)):(i.indices.array.push(0),i.weights.array.push(0))}}e.bindShapeMatrix?i.bindMatrix=(new o.Matrix4).fromArray(e.bindShapeMatrix).transpose():i.bindMatrix=(new o.Matrix4).identity();for(t=0,r=f.array.length;t<r;t++){var O=f.array[t],A=(new o.Matrix4).fromArray(d.array,t*d.stride).transpose();i.joints.push({name:O,boneInverse:A})}return i;function j(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function z(e){return void 0!==e.build?e.build:e.init_from}function C(e){var t=Je.images[e];return void 0!==t?d(t,z):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function N(e){for(var t={surfaces:{},samplers:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"newparam":I(o,t);break;case"technique":t.technique=L(o);break;case"extra":t.extra=Y(o)}}return t}function I(e,t){for(var n=e.getAttribute("sid"),r=0,o=e.childNodes.length;r<o;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"surface":t.surfaces[n]=D(i);break;case"sampler2D":t.samplers[n]=G(i)}}}function D(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"init_from":t.init_from=o.textContent}}return t}function G(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"source":t.source=o.textContent}}return t}function L(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=o.nodeName,t.parameters=F(o)}}return t}function F(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[o.nodeName]=U(o);break;case"transparent":t[o.nodeName]={opaque:o.getAttribute("opaque"),data:U(o)}}}return t}function U(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"color":t[o.nodeName]=i(o.textContent);break;case"float":t[o.nodeName]=parseFloat(o.textContent);break;case"texture":t[o.nodeName]={id:o.getAttribute("texture"),extra:W(o)}}}return t}function W(e){for(var t={technique:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"extra":B(o,t)}}return t}function B(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"technique":V(o,t)}}}function V(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[o.nodeName]=parseFloat(o.textContent);break;case"wrapU":case"wrapV":"TRUE"===o.textContent.toUpperCase()?t.technique[o.nodeName]=1:"FALSE"===o.textContent.toUpperCase()?t.technique[o.nodeName]=0:t.technique[o.nodeName]=parseInt(o.textContent)}}}function Y(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"technique":t.technique=Q(o)}}return t}function Q(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"double_sided":t[o.nodeName]=parseInt(o.textContent)}}return t}function J(e){return e}function H(e){var t,n,r=(t=e.url,d(Je.effects[t],J)),i=r.profile.technique,a=r.profile.extra;switch(i.type){case"phong":case"blinn":n=new o.MeshPhongMaterial;break;case"lambert":n=new o.MeshLambertMaterial;break;default:n=new o.MeshBasicMaterial}function s(e){var t=r.profile.samplers[e.id],n=null;void 0!==t?n=C(r.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),n=C(e.id));if(null!==n){var i=function(e){var t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(n=n.toLowerCase()){case"tga":t=Ue;break;default:t=Be}return t}(n);if(void 0!==i){var a=i.load(n),s=e.extra;if(void 0!==s&&void 0!==s.technique&&!1===c(s.technique)){var u=s.technique;a.wrapS=u.wrapU?o.RepeatWrapping:o.ClampToEdgeWrapping,a.wrapT=u.wrapV?o.RepeatWrapping:o.ClampToEdgeWrapping,a.offset.set(u.offsetU||0,u.offsetV||0),a.repeat.set(u.repeatU||1,u.repeatV||1)}else a.wrapS=o.RepeatWrapping,a.wrapT=o.RepeatWrapping;return a}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",n),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}n.name=e.name||"";var u=i.parameters;for(var l in u){var h=u[l];switch(l){case"diffuse":h.color&&n.color.fromArray(h.color),h.texture&&(n.map=s(h.texture));break;case"specular":h.color&&n.specular&&n.specular.fromArray(h.color),h.texture&&(n.specularMap=s(h.texture));break;case"bump":h.texture&&(n.normalMap=s(h.texture));break;case"ambient":h.texture&&(n.lightMap=s(h.texture));break;case"shininess":h.float&&n.shininess&&(n.shininess=h.float);break;case"emission":h.color&&n.emissive&&n.emissive.fromArray(h.color),h.texture&&(n.emissiveMap=s(h.texture))}}var f=u.transparent,p=u.transparency;if(void 0===p&&f&&(p={float:1}),void 0===f&&p&&(f={opaque:"A_ONE",data:{color:[1,1,1,1]}}),f&&p)if(f.data.texture)n.transparent=!0;else{var y=f.data.color;switch(f.opaque){case"A_ONE":n.opacity=y[3]*p.float;break;case"RGB_ZERO":n.opacity=1-y[0]*p.float;break;case"A_ZERO":n.opacity=1-y[3]*p.float;break;case"RGB_ONE":n.opacity=y[0]*p.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',f.opaque)}n.opacity<1&&(n.transparent=!0)}return void 0!==a&&void 0!==a.technique&&1===a.technique.double_sided&&(n.side=o.DoubleSide),n}function X(e){return d(Je.materials[e],H)}function q(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return K(n)}}return{}}function K(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=$(r)}}return t}function $(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent)}}return t}function ee(e){var t;switch(e.optics.technique){case"perspective":t=new o.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,r=e.optics.parameters.xmag,i=e.optics.parameters.aspect_ratio;r=void 0===r?n*i:r,n=void 0===n?r/i:n,r*=.5,n*=.5,t=new o.OrthographicCamera(-r,r,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new o.PerspectiveCamera}return t.name=e.name||"",t}function te(e){var t=Je.cameras[e];return void 0!==t?d(t,ee):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ne(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=o.nodeName,t.parameters=re(o)}}return t}function re(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var a=e.childNodes[n];if(1===a.nodeType)switch(a.nodeName){case"color":var s=i(a.textContent);t.color=(new o.Color).fromArray(s);break;case"falloff_angle":t.falloffAngle=parseFloat(a.textContent);break;case"quadratic_attenuation":var c=parseFloat(a.textContent);t.distance=c?Math.sqrt(1/c):0}}return t}function oe(e){var t;switch(e.technique){case"directional":t=new o.DirectionalLight;break;case"point":t=new o.PointLight;break;case"spot":t=new o.SpotLight;break;case"ambient":t=new o.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function ie(e){var t=Je.lights[e];return void 0!==t?d(t,oe):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ae(e){for(var t={array:[],stride:3},o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1===a.nodeType)switch(a.nodeName){case"float_array":t.array=i(a.textContent);break;case"Name_array":t.array=r(a.textContent);break;case"technique_common":var s=n(a,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")))}}return t}function se(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=s(r.getAttribute("source")))}return t}function ce(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"input":var i=s(o.getAttribute("source")),c=o.getAttribute("semantic"),u=parseInt(o.getAttribute("offset")),l=parseInt(o.getAttribute("set")),h=l>0?c+l:c;t.inputs[h]={id:i,offset:u},t.stride=Math.max(t.stride,u+1),"TEXCOORD"===c&&(t.hasUV=!0);break;case"vcount":t.vcount=a(o.textContent);break;case"p":t.p=a(o.textContent)}}return t}function ue(e){for(var t=0,n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function le(e){var t={},n=e.sources,r=e.vertices,o=e.primitives;if(0===o.length)return{};var i=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(o);for(var a in i){var s=i[a];ue(s),t[a]=he(s,n,r)}return t}function he(e,t,n){for(var r={},i={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},c={array:[],stride:0},u={array:[],stride:0},l=[],h=4,f=[],d=4,p=new o.BufferGeometry,y=[],m=0,b=0;b<e.length;b++){var v=e[b],g=v.inputs,w=0;switch(v.type){case"lines":case"linestrips":w=2*v.count;break;case"triangles":w=3*v.count;break;case"polylist":for(var k=0;k<v.count;k++){var O=v.vcount[k];switch(O){case 3:w+=3;break;case 4:w+=6;break;default:w+=3*(O-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",v.type)}for(var A in p.addGroup(m,w,b),m+=w,v.material&&y.push(v.material),g){var j=g[A];switch(A){case"VERTEX":for(var x in n){var S=n[x];switch(x){case"POSITION":var M=i.array.length;if(fe(v,t[S],j.offset,i.array),i.stride=t[S].stride,t.skinWeights&&t.skinIndices&&(fe(v,t.skinIndices,j.offset,l),fe(v,t.skinWeights,j.offset,f)),!1===v.hasUV&&!0===e.uvsNeedsFix){w=(i.array.length-M)/i.stride;for(var _=0;_<w;_++)s.array.push(0,0)}break;case"NORMAL":fe(v,t[S],j.offset,a.array),a.stride=t[S].stride;break;case"COLOR":fe(v,t[S],j.offset,u.array),u.stride=t[S].stride;break;case"TEXCOORD":fe(v,t[S],j.offset,s.array),s.stride=t[S].stride;break;case"TEXCOORD1":fe(v,t[S],j.offset,c.array),s.stride=t[S].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',x)}}break;case"NORMAL":fe(v,t[j.id],j.offset,a.array),a.stride=t[j.id].stride;break;case"COLOR":fe(v,t[j.id],j.offset,u.array),u.stride=t[j.id].stride;break;case"TEXCOORD":fe(v,t[j.id],j.offset,s.array),s.stride=t[j.id].stride;break;case"TEXCOORD1":fe(v,t[j.id],j.offset,c.array),c.stride=t[j.id].stride}}}return i.array.length>0&&p.addAttribute("position",new o.Float32BufferAttribute(i.array,i.stride)),a.array.length>0&&p.addAttribute("normal",new o.Float32BufferAttribute(a.array,a.stride)),u.array.length>0&&p.addAttribute("color",new o.Float32BufferAttribute(u.array,u.stride)),s.array.length>0&&p.addAttribute("uv",new o.Float32BufferAttribute(s.array,s.stride)),c.array.length>0&&p.addAttribute("uv2",new o.Float32BufferAttribute(c.array,c.stride)),l.length>0&&p.addAttribute("skinIndex",new o.Float32BufferAttribute(l,h)),f.length>0&&p.addAttribute("skinWeight",new o.Float32BufferAttribute(f,d)),r.data=p,r.type=e[0].type,r.materialKeys=y,r}function fe(e,t,n,r){var o=e.p,i=e.stride,a=e.vcount;function s(e){for(var t=o[e+n]*u,i=t+u;t<i;t++)r.push(c[t])}var c=t.array,u=t.stride;if(void 0!==e.vcount)for(var l=0,h=0,f=a.length;h<f;h++){var d=a[h];if(4===d){var p=l+1*i,y=l+2*i,m=l+3*i;s(l+0*i),s(p),s(m),s(p),s(y),s(m)}else if(3===d){p=l+1*i,y=l+2*i;s(l+0*i),s(p),s(y)}else if(d>4)for(var b=1,v=d-2;b<=v;b++){p=l+i*b,y=l+i*(b+1);s(l+0*i),s(p),s(y)}l+=i*d}else for(h=0,f=o.length;h<f;h+=i)s(h)}function de(e){return d(Je.geometries[e],le)}function pe(e){return void 0!==e.build?e.build:e}function ye(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=me(r);break;case"link":t.links.push(ve(r))}}}function me(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=be(r)}}return t}function be(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new o.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var a=i(r.textContent);t.axis.fromArray(a);break;case"limits":var s=r.getElementsByTagName("max")[0],c=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(s.textContent),t.limits.min=parseFloat(c.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ve(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(ge(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(we(r))}}return t}function ge(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(ve(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(we(r))}}return t}function we(e){var t={type:e.nodeName},n=i(e.textContent);switch(t.type){case"matrix":t.obj=new o.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new o.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new o.Vector3,t.obj.fromArray(n),t.angle=o.Math.degToRad(n[3])}return t}function ke(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":Oe(r,t)}}}function Oe(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=i(r.textContent);break;case"mass":t.mass=i(r.textContent)[0]}}}function Ae(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var o=r.getElementsByTagName("param")[0];t.axis=o.textContent;var i=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=i.substr(0,i.length-1)}}return t}function je(e){return void 0!==e.build?e.build:e}function xe(e){for(var t=[],n=Le.querySelector('[id="'+e.id+'"]'),r=0;r<n.childNodes.length;r++){var a=n.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"matrix":var s=i(a.textContent),c=(new o.Matrix4).fromArray(s).transpose();t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:c});break;case"translate":case"scale":s=i(a.textContent);var u=(new o.Vector3).fromArray(s);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:u});break;case"rotate":s=i(a.textContent),u=(new o.Vector3).fromArray(s);var l=o.Math.degToRad(s[3]);t.push({sid:a.getAttribute("sid"),type:a.nodeName,obj:u,angle:l})}}return t}var Se=new o.Matrix4,Me=new o.Vector3;function _e(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new o.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"node":t.nodes.push(r.getAttribute("id")),_e(r);break;case"instance_camera":t.instanceCameras.push(s(r.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Ee(r));break;case"instance_light":t.instanceLights.push(s(r.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Ee(r));break;case"instance_node":t.instanceNodes.push(s(r.getAttribute("url")));break;case"matrix":var a=i(r.textContent);t.matrix.multiply(Se.fromArray(a).transpose()),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"translate":a=i(r.textContent);Me.fromArray(a),t.matrix.multiply(Se.makeTranslation(Me.x,Me.y,Me.z)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"rotate":a=i(r.textContent);var c=o.Math.degToRad(a[3]);t.matrix.multiply(Se.makeRotationAxis(Me.fromArray(a),c)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"scale":a=i(r.textContent);t.matrix.scale(Me.fromArray(a)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"extra":break;default:console.log(r)}}return Ie(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Je.nodes[t.id]=t,t}function Ee(e){for(var t={id:s(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"bind_material":for(var o=r.getElementsByTagName("instance_material"),i=0;i<o.length;i++){var a=o[i],c=a.getAttribute("symbol"),u=a.getAttribute("target");t.materials[c]=s(u)}break;case"skeleton":t.skeletons.push(s(r.textContent))}}return t}function Te(e,t){var n,r,i,a=[],s=[];for(n=0;n<e.length;n++){var c=e[n];if(Ie(c))Re(De(c),t,a);else if(i=c,void 0!==Je.visualScenes[i])for(var u=Je.visualScenes[c].children,l=0;l<u.length;l++){var h=u[l];if("JOINT"===h.type)Re(De(h.id),t,a)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",c)}for(n=0;n<t.length;n++)for(l=0;l<a.length;l++)if((r=a[l]).bone.name===t[n].name){s[n]=r,r.processed=!0;break}for(n=0;n<a.length;n++)!1===(r=a[n]).processed&&(s.push(r),r.processed=!0);var f=[],d=[];for(n=0;n<s.length;n++)r=s[n],f.push(r.bone),d.push(r.boneInverse);return new o.Skeleton(f,d)}function Re(e,t,n){e.traverse((function(e){if(!0===e.isBone){for(var r,i=0;i<t.length;i++){var a=t[i];if(a.name===e.name){r=a.boneInverse;break}}void 0===r&&(r=new o.Matrix4),n.push({bone:e,boneInverse:r,processed:!1})}}))}function Pe(e){for(var t,n=[],r=e.matrix,i=e.nodes,a=e.type,s=e.instanceCameras,c=e.instanceControllers,u=e.instanceLights,l=e.instanceGeometries,h=e.instanceNodes,f=0,p=i.length;f<p;f++)n.push(De(i[f]));for(f=0,p=s.length;f<p;f++){var y=te(s[f]);null!==y&&n.push(y.clone())}for(f=0,p=c.length;f<p;f++)for(var m=c[f],b=(t=m.id,d(Je.controllers[t],P)),v=Ne(de(b.id),m.materials),g=Te(m.skeletons,b.skin.joints),w=0,k=v.length;w<k;w++){var O;(O=v[w]).isSkinnedMesh&&(O.bind(g,b.skin.bindMatrix),O.normalizeSkinWeights()),n.push(O)}for(f=0,p=u.length;f<p;f++){var A=ie(u[f]);null!==A&&n.push(A.clone())}for(f=0,p=l.length;f<p;f++)for(w=0,k=(v=Ne(de((m=l[f]).id),m.materials)).length;w<k;w++)n.push(v[w]);for(f=0,p=h.length;f<p;f++)n.push(De(h[f]).clone());if(0===i.length&&1===n.length)O=n[0];else{O="JOINT"===a?new o.Bone:new o.Group;for(f=0;f<n.length;f++)O.add(n[f])}return""===O.name&&(O.name="JOINT"===a?e.sid:e.name),O.matrix.copy(r),O.matrix.decompose(O.position,O.quaternion,O.scale),O}var ze=new o.MeshBasicMaterial({color:16711935});function Ce(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=t[e[r]];void 0===i?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(ze)):n.push(X(i))}return n}function Ne(e,t){var n=[];for(var r in e){var i=e[r],a=Ce(i.materialKeys,t);0===a.length&&("lines"===r||"linestrips"===r?a.push(new o.LineBasicMaterial):a.push(new o.MeshPhongMaterial));var s=void 0!==i.data.attributes.skinIndex;if(s)for(var c=0,u=a.length;c<u;c++)a[c].skinning=!0;var l,h=1===a.length?a[0]:a;switch(r){case"lines":l=new o.LineSegments(i.data,h);break;case"linestrips":l=new o.Line(i.data,h);break;case"triangles":case"polylist":l=s?new o.SkinnedMesh(i.data,h):new o.Mesh(i.data,h)}n.push(l)}return n}function Ie(e){return void 0!==Je.nodes[e]}function De(e){return d(Je.nodes[e],Pe)}function Ze(e){var t=new o.Group;t.name=e.name;for(var n=e.children,r=0;r<n.length;r++){var i=n[r];t.add(De(i.id))}return t}function Ge(e){return d(Je.visualScenes[e],Ze)}if(0===e.length)return{scene:new o.Scene};var Le=n((new DOMParser).parseFromString(e,"application/xml"),"COLLADA")[0],Fe=Le.getAttribute("version");console.log("THREE.ColladaLoader: File version",Fe);var Ue,We=function(e){return{unit:u(n(e,"unit")[0]),upAxis:l(n(e,"up_axis")[0])}}(n(Le,"asset")[0]),Be=new o.TextureLoader(this.manager);Be.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),Z&&(Ue=new Z(this.manager)).setPath(this.resourcePath||t);var Ve=[],Ye={},Qe=0,Je={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(Le,"library_animations","animation",(function(e){for(var t={sources:{},samplers:{},channels:{}},n=0,r=e.childNodes.length;n<r;n++){var o,i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"source":o=i.getAttribute("id"),t.sources[o]=ae(i);break;case"sampler":o=i.getAttribute("id"),t.samplers[o]=p(i);break;case"channel":o=i.getAttribute("target"),t.channels[o]=y(i);break;default:console.log(i)}}Je.animations[e.getAttribute("id")]=t})),h(Le,"library_animation_clips","animation_clip",(function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"instance_animation":t.animations.push(s(o.getAttribute("url")))}}Je.clips[e.getAttribute("id")]=t})),h(Le,"library_controllers","controller",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"skin":t.id=s(o.getAttribute("source")),t.skin=E(o);break;case"morph":t.id=s(o.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Je.controllers[e.getAttribute("id")]=t})),h(Le,"library_images","image",(function(e){var t={init_from:n(e,"init_from")[0].textContent};Je.images[e.getAttribute("id")]=t})),h(Le,"library_effects","effect",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"profile_COMMON":t.profile=N(o)}}Je.effects[e.getAttribute("id")]=t})),h(Le,"library_materials","material",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"instance_effect":t.url=s(o.getAttribute("url"))}}Je.materials[e.getAttribute("id")]=t})),h(Le,"library_cameras","camera",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"optics":t.optics=q(o)}}Je.cameras[e.getAttribute("id")]=t})),h(Le,"library_lights","light",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"technique_common":t=ne(o)}}Je.lights[e.getAttribute("id")]=t})),h(Le,"library_geometries","geometry",(function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(var o=0;o<r.childNodes.length;o++){var i=r.childNodes[o];if(1===i.nodeType){var a=i.getAttribute("id");switch(i.nodeName){case"source":t.sources[a]=ae(i);break;case"vertices":t.vertices=se(i);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",i.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ce(i));break;default:console.log(i)}}}Je.geometries[e.getAttribute("id")]=t}})),h(Le,"library_nodes","node",_e),h(Le,"library_visual_scenes","visual_scene",(function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var r=t[n];!1===r.hasAttribute("id")&&r.setAttribute("id","three_default_"+Qe++)}}(e);for(var r=n(e,"node"),o=0;o<r.length;o++)t.children.push(_e(r[o]));Je.visualScenes[e.getAttribute("id")]=t})),h(Le,"library_kinematics_models","kinematics_model",(function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":ye(r,t)}}Je.kinematicsModels[e.getAttribute("id")]=t})),h(Le,"library_physics_models","physics_model",(function(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"rigid_body":t.rigidBodies[r.getAttribute("name")]={},ke(r,t.rigidBodies[r.getAttribute("name")])}}Je.physicsModels[e.getAttribute("id")]=t})),h(Le,"scene","instance_kinematics_scene",(function(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_joint_axis":t.bindJointAxis.push(Ae(r))}}Je.kinematicsScenes[s(e.getAttribute("url"))]=t})),f(Je.animations,m),f(Je.clips,M),f(Je.controllers,P),f(Je.images,z),f(Je.effects,J),f(Je.materials,H),f(Je.cameras,ee),f(Je.lights,oe),f(Je.geometries,le),f(Je.visualScenes,Ze),function(){var e=Je.clips;if(!0===c(e)){if(!1===c(Je.animations)){var t=[];for(var n in Je.animations)for(var r=b(n),i=0,a=r.length;i<a;i++)t.push(r[i]);Ve.push(new o.AnimationClip("default",-1,t))}}else for(var n in e)Ve.push(_(n))}(),function(){var e=Object.keys(Je.kinematicsModels)[0],t=Object.keys(Je.kinematicsScenes)[0],n=Object.keys(Je.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var r,i=(r=e,d(Je.kinematicsModels[r],pe)),a=function(e){return d(Je.kinematicsScenes[e],je)}(t),s=Ge(n),c=a.bindJointAxis,u={},l=0,h=c.length;l<h;l++){var f=c[l],p=Le.querySelector('[sid="'+f.target+'"]');if(p){var y=p.parentElement;b(f.jointIndex,y)}}var m=new o.Matrix4;Ye={joints:i&&i.joints,getJointValue:function(e){var t=u[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=u[e];if(n){var r=n.joint;if(t>r.limits.max||t<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var i=n.object,a=r.axis,s=n.transforms;Se.identity();for(var c=0;c<s.length;c++){var l=s[c];if(l.sid&&-1!==l.sid.indexOf(e))switch(r.type){case"revolute":Se.multiply(m.makeRotationAxis(a,o.Math.degToRad(t)));break;case"prismatic":Se.multiply(m.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type)}else switch(l.type){case"matrix":Se.multiply(l.obj);break;case"translate":Se.multiply(m.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"scale":Se.scale(l.obj);break;case"rotate":Se.multiply(m.makeRotationAxis(l.obj,l.angle))}}i.matrix.copy(Se),i.matrix.decompose(i.position,i.quaternion,i.scale),u[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function b(e,t){var n=t.getAttribute("name"),r=i.joints[e];s.traverse((function(o){o.name===n&&(u[e]={object:o,transforms:xe(t),joint:r,position:r.zeroPosition})}))}}();var He=function(e){return Ge(s(n(e,"instance_visual_scene")[0].getAttribute("url")))}(n(Le,"scene")[0]);return"Z_UP"===We.upAxis&&He.quaternion.setFromEuler(new o.Euler(-Math.PI/2,0,0)),He.scale.multiplyScalar(We.unit),{animations:Ve,kinematics:Ye,library:Je,scene:He}}};var L=G;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function V(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=C.a.resolve("../obj/CJ_Truck"),X={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"}]},q=function(e){function t(){return U(this,t),V(this,Y(t).apply(this,arguments))}return Q(t,e),B(t,[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="cj-truck";var a=e.clone();a.rotation.z=-Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z)}}],[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(H,"/")),n.load("Vehicle_Big.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(p),K=function(e){function t(){return U(this,t),V(this,Y(t).apply(this,arguments))}return Q(t,e),B(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"controls",get:function(){}},{key:"nature",get:function(){return X}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=I.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("cj-truck",K),s.register("cj-truck",q);var ee=n(5),te=n.n(ee);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=C.a.resolve("../obj/CJ_Truck_Small"),he={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"}]},fe=function(e){function t(){return re(this,t),ae(this,se(t).apply(this,arguments))}return ce(t,e),ie(t,[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="cj-truck-small";var a=e.clone();a.rotation.z=-Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z)}}],[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(le,"/")),n.load("Vehicle_Small.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(p),de=function(e){function t(){return re(this,t),ae(this,se(t).apply(this,arguments))}return ce(t,e),ie(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"controls",get:function(){}},{key:"nature",get:function(){return he}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=te.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("cj-truck-small",de),s.register("cj-truck-small",fe);var Oe={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"rz",property:"rz"}]},Ae=function(e){function t(e,n){var r;return ye(this,t),(r=ve(this,ge(t).call(this)))._model=e,r.createObject(e,n),r}return we(t,e),be(t,[{key:"createObject",value:function(e,t){var n=e.cx-t.width/2,r=e.cy-t.height/2,o=this.model.rx,i=e.rotation;this.type=e.type,this.createCone(this.model.rx,this.model.rz),this.position.set(n,o,r),this.rotation.y=i||0}},{key:"createCone",value:function(e,t){var n=this.model.fillStyle,r=void 0===n?"lightgray":n;this.geometry=new o.ConeBufferGeometry(e,t,20),this.material=new o.MeshLambertMaterial({color:r,side:o.FrontSide})}},{key:"setEuler",value:function(e){var t=e.yaw,n=e.pitch,r=e.roll;this.setRotationFromEuler(new o.Vector3(r,n,t))}},{key:"setQuaternion",value:function(e){var t=e.x,n=e.y,r=e.z,i=e.w;this.setRotationFromQuaternion(new o.Quaternion(t,n,r,i))}},{key:"model",get:function(){return this._model}}]),t}(o.Mesh),je=function(e){function t(){return ye(this,t),ve(this,ge(t).apply(this,arguments))}return we(t,e),be(t,[{key:"is3dish",value:function(){return!0}},{key:"controls",get:function(){}},{key:"nature",get:function(){return Oe}}]),t}(r.Ellipse);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ee(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("cone",je),s.register("cone",Ae);var Re=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Me(this,Ee(t).call(this)))._model=e,o._visualizer=r,o._canvasSize=n,o.name=o.model.id,o.createObject(),o.setPosition(),o.setRotation(),o.setOpacity(),o}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,e),n=t,(r=[{key:"dispose",value:function(){var e=this;this.children.slice().forEach((function(t){t.dispose&&t.dispose(),t.geometry&&t.geometry.dispose&&t.geometry.dispose(),t.material&&t.material.dispose&&t.material.dispose(),t.texture&&t.texture.dispose&&t.texture.dispose(),e.remove(t)}))}},{key:"onBeforeRender",value:function(){_e(Ee(t.prototype),"onBeforeRender",this).call(this)}},{key:"createObject",value:function(){}},{key:"setPosition",value:function(){this.position.set(this.cx,this.cz,this.cy)}},{key:"setRotation",value:function(){var e=this.model,t=e.rotationX,n=void 0===t?0:t,r=e.rotationY,o=void 0===r?0:r,i=e.rotation,a=void 0===i?0:i;this.rotation.x=-n,this.rotation.y=-a,this.rotation.z=-o}},{key:"setOpacity",value:function(){var e=this.model.alpha;e=null==e?1:e,this.traverse((function(t){var n=t.material;t.material&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t.opacity*=e,t.transparent=e<1})))}))}},{key:"onUserDataChanged",value:function(){if(this.userData){if(this.userData.hasOwnProperty("position")){if(!this._visualizer)return;this._setPosition(this._visualizer.transcoord2dTo3d(this.userData.position))}this.userData.hasOwnProperty("euler")&&this._setEuler({yaw:this.userData.euler.yaw,pitch:this.userData.euler.pitch,roll:this.userData.euler.roll}),this.userData.hasOwnProperty("quaternion")&&this._setQuaternion({x:this.userData.quaternion.qx,y:this.userData.quaternion.qy,z:this.userData.quaternion.qz,w:this.userData.quaternion.qw})}}},{key:"_setPosition",value:function(e){var t=e.x,n=e.y,r=this._visualizer.mixers.indexOf(this._mixer);r>=0&&this._visualizer.mixers.splice(r,1),this._mixer=new o.AnimationMixer(this),this._visualizer.mixers.push(this._mixer);var i=new o.VectorKeyframeTrack(".position",[0,1],[this.position.x,this.position.y,this.position.z,t,this.position.y,n]),a=new o.AnimationClip("Move",2,[i]),s=this._mixer.clipAction(a);s.clampWhenFinished=!0,s.loop=o.LoopOnce,s.play()}},{key:"_setQuaternion",value:function(e){var t=e.x,n=e.y,r=e.z,i=e.w,a=new o.Quaternion;a.set(t,n,r,i),this.setRotationFromQuaternion(a),this.rotateOnAxis(new o.Vector3(1,0,0),-Math.PI),this.rotateOnAxis(new o.Vector3(0,1,0),Math.PI),this.rotateOnAxis(new o.Vector3(0,0,1),-Math.PI/2)}},{key:"_setEuler",value:function(e){var t=e.yaw,n=e.pitch,r=e.roll,i=new o.Euler;i.set(t,n,r,"ZYX"),this.setRotationFromEuler(i)}},{key:"model",get:function(){return this._model}},{key:"type",get:function(){return this.model.type||this._type},set:function(e){this._type=e}},{key:"cx",get:function(){if(!this._cx){var e=this.model,t=e.left,n=void 0===t?0:t,r=e.width,o=void 0===r?0:r,i=this._canvasSize;this._cx=n+o/2-i.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.model,t=e.top,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=this._canvasSize;this._cy=n+o/2-i.height/2}return this._cy}},{key:"cz",get:function(){if(!this._cz){var e=this.model,t=e.zPos,n=void 0===t?0:t,r=e.depth,o=void 0===r?1:r;this._cz=n+o/2}return this._cz}}])&&Se(n.prototype,r),i&&Se(n,i),t}(o.Mesh);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),e}function Ie(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"},{type:"checkbox",label:"show-axis",name:"showAxis",property:"showAxis"}]},Fe=function(e){function t(e,n,r){var i;if(ze(this,t),(i=Ie(this,De(t).call(this,e,n,r))).updateMatrixWorld(),e.showAxis){var a=new o.AxesHelper(100);i.add(a)}return i}return Ze(t,e),Ne(t,[{key:"createObject",value:function(){var e=this.model,t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=e.depth,a=void 0===i?0:i;this.createCube(n,o,a)}},{key:"createCube",value:function(e,t,n){var r=this.model.fillStyle,i=void 0===r?"lightgray":r;this.geometry=new o.BoxBufferGeometry(e,n,t),this.material=new o.MeshLambertMaterial({color:i,side:o.FrontSide})}},{key:"model",get:function(){return this._model}},{key:"mixer",get:function(){return this._mixer||(this._mixer=new o.AnimationMixer(this),this._visualizer.mixers.push(this._mixer)),this._mixer}}]),t}(Re),Ue=function(e){function t(){return ze(this,t),Ie(this,De(t).apply(this,arguments))}return Ze(t,e),Ne(t,[{key:"is3dish",value:function(){return!0}},{key:"controls",get:function(){}},{key:"nature",get:function(){return Le}}]),t}(r.Rect);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),e}function Qe(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("cube",Ue),s.register("cube",Fe);var qe={mutable:!1,resizable:!0,rotatable:!0,properties:[]},Ke=function(e){function t(){return Be(this,t),Qe(this,Je(t).apply(this,arguments))}return He(t,e),Ye(t,[{key:"createObject",value:function(){var e=this.model,t=e.depth,n=void 0===t?0:t,r=e.rx,o=void 0===r?0:r;this.createCylinder(o,n)}},{key:"createCylinder",value:function(e,t){var n=this.model.fillStyle,r=void 0===n?"lightgray":n;this.geometry=new o.CylinderBufferGeometry(e,e,t,25),this.material=new o.MeshLambertMaterial({color:r,side:o.FrontSide})}},{key:"cx",get:function(){if(!this._cx){var e=this.model.cx,t=void 0===e?0:e,n=this._canvasSize;this._cx=t-n.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.model.cy,t=void 0===e?0:e,n=this._canvasSize;this._cy=t-n.height/2}return this._cy}},{key:"cz",get:function(){if(!this._cz){var e=this.model,t=e.zPos,n=void 0===t?0:t,r=e.depth,o=void 0===r?0:r;this._cz=n+o/2}return this._cz}},{key:"model",get:function(){return this._model}}]),t}(Re),$e=function(e){function t(){return Be(this,t),Qe(this,Je(t).apply(this,arguments))}return He(t,e),Ye(t,[{key:"is3dish",value:function(){return!0}},{key:"controls",get:function(){}},{key:"nature",get:function(){return qe}}]),t}(r.Ellipse);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}function ot(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("cylinder",$e),s.register("cylinder",Ke);var ct={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"},{type:"color",label:"leg-color",name:"legColor",property:"legColor"}]},ut=function(e){function t(){return tt(this,t),ot(this,it(t).apply(this,arguments))}return at(t,e),rt(t,[{key:"createObject",value:function(){var e=this.model,t=(e.left,e.top),n=e.width,r=e.height,o=e.depth,i=this.createDeskLegs(n,r,o);this.add(i),t=o/2-this.boardThickness;var a=this.createDeskBoard(n,r);a.position.set(0,t,0),a.rotation.x=Math.PI/2,this.add(a)}},{key:"createDeskLegs",value:function(e,t,n){var r=this.legThickness,i=this.margin;n-=this.boardThickness;for(var a=new o.Group,s=e/2-r/2-i,c=t/2-r/2-i,u=0;u<4;u++){var l=new o.BoxBufferGeometry(r,n,r),h=new o.MeshLambertMaterial({color:this.model.legColor||"#252525"}),f=new o.Mesh(l,h);switch(u){case 0:f.position.set(s,-1,c);break;case 1:f.position.set(s,-1,-c);break;case 2:f.position.set(-s,-1,c);break;case 3:f.position.set(-s,-1,-c)}a.add(f)}return a}},{key:"createDeskBoard",value:function(e,t){var n=new o.MeshLambertMaterial({color:this.model.fillStyle||"#ccaa76"}),r=new o.BoxBufferGeometry(e,t,10,1,1);return new o.Mesh(r,n)}},{key:"raycast",value:function(e,t){}},{key:"onchange",value:function(e,t){e.hasOwnProperty("data")&&(this.data=e.data)}},{key:"boardThickness",get:function(){var e=this.model.depth;return Math.min(10,e/10)}},{key:"legThickness",get:function(){var e=this.model,t=e.width,n=e.height,r=Math.min(t,n);return Math.min(10,r/10)}},{key:"margin",get:function(){return Math.min(this.legThickness/5,2)}}]),t}(p),lt=function(e){function t(){return tt(this,t),ot(this,it(t).apply(this,arguments))}return at(t,e),rt(t,[{key:"is3dish",value:function(){return!0}},{key:"controls",get:function(){}},{key:"nature",get:function(){return ct}}]),t}(r.Rect);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e}function yt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("desk",lt),s.register("desk",ut);var gt=function(e){function t(e,n){var r;return ft(this,t),(r=yt(this,mt(t).call(this)))._model=e,r.createObject(e,n),r}return bt(t,e),pt(t,[{key:"createObject",value:function(e,t){var n=e.left+e.width/2-t.width/2,r=e.top+e.height/2-t.height/2,o=.5*e.depth,i=e.rotation;this.type=e.type,this.createDoor(e.width,e.height,e.depth),this.position.set(n,o,r),this.rotation.y=i||0}},{key:"createDoor",value:function(e,t,n){var r=this.model.fillStyle,i=void 0===r?"saddlebrown":r;this.geometry=new o.BoxBufferGeometry(e,n,t),this.material=new o.MeshLambertMaterial({color:i,side:o.FrontSide})}},{key:"model",get:function(){return this._model}}]),t}(o.Mesh),wt=function(e){function t(){return ft(this,t),yt(this,mt(t).apply(this,arguments))}return bt(t,e),pt(t,[{key:"is3dish",value:function(){return!0}}]),t}(r.Rect);r.Component.register("door",wt),s.register("door",gt);var kt=n(3),Ot=n.n(kt);function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"setShape",value:function(e){var t=e.extrudedShape,n=e.extrudedOptions;this.extrudedShape=t,this.bb=new o.Box2,this.bb.setFromPoints(this.extrudedShape.extractPoints().shape),this.extrudedOptions=n}},{key:"generateTopUV",value:function(e,t,n,r,i){var a=t[3*n],s=t[3*n+1],c=t[3*r],u=t[3*r+1],l=t[3*i],h=t[3*i+1],f=this.bb,d=f.max.x-f.min.x,p=f.max.y-f.min.y;return[new o.Vector2((a-f.min.x)/d,1-(s-f.min.y)/p),new o.Vector2((c-f.min.x)/d,1-(u-f.min.y)/p),new o.Vector2((l-f.min.x)/d,1-(h-f.min.y)/p)]}},{key:"generateSideWallUV",value:function(e,t,n,r,i,a){var s=t[3*n],c=t[3*n+1],u=t[3*n+2],l=t[3*r],h=t[3*r+1],f=t[3*r+2],d=t[3*i],p=t[3*i+1],y=t[3*i+2],m=t[3*a],b=t[3*a+1],v=t[3*a+2],g=this.extrudedOptions.depth,w=this.bb,k=w.max.x-w.min.x,O=w.max.y-w.min.y;return Math.abs(c-h)<.01?[new o.Vector2(s/k,1-u/g),new o.Vector2(l/k,1-f/g),new o.Vector2(d/k,1-y/g),new o.Vector2(m/k,1-v/g)]:[new o.Vector2(c/O,1-u/g),new o.Vector2(h/O,1-f/g),new o.Vector2(p/O,1-y/g),new o.Vector2(b/O,1-v/g)]}}])&&At(t.prototype,n),r&&At(t,r),e}();function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){return St(this,t),_t(this,Et(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,e),n=t,(r=[{key:"createObject",value:function(){var e=this.model,t=e.fillStyle,n=void 0===t?16777215:t,r=e.strokeStyle,o=void 0===r?6513507:r,i=e.lineWidth,a=void 0===i?1:i,s=(e.alpha,this.shape);if(s){var c=this.extrudeSettings,u=this.boundingUVGenerator;u&&u.setShape({extrudedShape:s,extrudedOptions:c});var l=this.createGeometry(s,c),h=this.createMaterial();if(n&&"none"!=n){var f=this.createMesh(l,h);this.add(f)}if(o&&"transparent"!=o&&a>0){var d=this.createSideMesh(l,s,c);this.add(d)}}}},{key:"createGeometry",value:function(e,t){var n=new o.ExtrudeBufferGeometry(e,t);return n.center(),n}},{key:"createMaterial",value:function(){var e,t=this,n=this.model,r=n.fillStyle,i=n.alpha,a=void 0===i?1:i;if("pattern"==r.type&&r.image){var s=this._visualizer._textureLoader.load(this._visualizer.app.url(r.image),(function(e){e.minFilter=o.LinearFilter,t._visualizer.render_threed()}));e=[new o.MeshLambertMaterial({map:s,side:o.DoubleSide}),new o.MeshLambertMaterial({color:r,side:o.DoubleSide})]}else e=new o.MeshLambertMaterial({color:r});var c=Ot()(r).getAlpha();return e.opacity=a*c,e.transparent=a<1||c<1,e}},{key:"createMesh",value:function(e,t){var n=new o.Mesh(e,t);return n.rotation.x=-Math.PI/2,n.rotation.y=-Math.PI,n.rotation.z=-Math.PI,n}},{key:"createSideMesh",value:function(e,t){var n=this.model,r=n.strokeStyle,i=void 0===r?0:r,a=n.depth,s=void 0===a?0:a,c=n.lineWidth,u=void 0===c?0:c,l=n.alpha,h=void 0===l?1:l,f=new o.Path;f.setFromPoints(t.getPoints());var d=new o.MeshLambertMaterial({color:i}),p=Ot()(i).getAlpha();d.opacity=h*p,d.transparent=h<1||p<1,d.polygonOffset=!0,d.polygonOffsetFactor=-.1,(t=this.sideShape||t).holes.push(f);var y={steps:1,depth:s,bevelEnabled:!0,bevelThickness:0,bevelSize:u,bevelSizeSegments:5},m=new o.ExtrudeBufferGeometry(t,y);m.center();var b=new o.Mesh(m,d);return b.rotation.x=-Math.PI/2,b.rotation.y=-Math.PI,b.rotation.z=-Math.PI,b}},{key:"raycast",value:function(e,t){}},{key:"shape",get:function(){return null}},{key:"sideShape",get:function(){return null}},{key:"extrudeSettings",get:function(){var e=this.model.depth;return{steps:1,depth:void 0===e?1:e,bevelEnabled:!1,UVGenerator:this.boundingUVGenerator}}},{key:"boundingUVGenerator",get:function(){return this._boundingUVGenerator||(this._boundingUVGenerator=new jt),this._boundingUVGenerator}}])&&Mt(n.prototype,r),i&&Mt(n,i),t}(p);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zt=function(e){function t(){return zt(this,t),Nt(this,It(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,e),n=t,(r=[{key:"cx",get:function(){if(!this._cx){var e=this.model.cx,t=void 0===e?0:e,n=this._canvasSize;this._cx=t-n.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.model.cy,t=void 0===e?0:e,n=this._canvasSize;this._cy=t-n.height/2}return this._cy}},{key:"shape",get:function(){var e=this.model,t=e.cx,n=void 0===t?0:t,r=e.cy,i=void 0===r?0:r,a=e.rx,s=void 0===a?1:a,c=e.ry,u=void 0===c?1:c,l=e.startAngle,h=void 0===l?0:l,f=e.endAngle,d=void 0===f?2*Math.PI:f,p=e.anticlockwise,y=void 0!==p&&p,m=new o.Shape;return m.ellipse(n,i,Math.abs(s),Math.abs(u),0,h,d,y),m}}])&&Ct(n.prototype,r),i&&Ct(n,i),t}(Rt);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}s.register("ellipse",Zt);var Vt=C.a.resolve("../obj/Forklift"),Yt=function(e){function t(){return Lt(this,t),Ut(this,Wt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,e),n=t,i=[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(Vt,"/")),n.load("ForkLift.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}],(r=[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="forklift";var a=e.clone();a.rotation.z=-Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z)}}])&&Ft(n.prototype,r),i&&Ft(n,i),t}(p);s.register("forklift",Yt);var Qt=n(6),Jt=n(7),Ht=n.n(Jt);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}function en(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var on={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"gltf-selector",label:"url",name:"src",property:{displayField:"id",displayFullUrl:!0,baseUrlAlias:"$base_url",defaultStorage:"3d-model",storageFilters:{type:Array,value:[{name:"category",value:"image"}]},useUpload:!0,category:"application"}}]},an=function(e){function t(){return qt(this,t),en(this,tn(t).apply(this,arguments))}return nn(t,e),$t(t,[{key:"createObject",value:function(){var e=this,t=this.model.src,n=new Qt.a,r=this._visualizer.app.url(t);n.setCrossOrigin("use-credentials"),n.load(r,(function(t){var n=t.scene,r=t.animations;e.addObject(n,r)}))}},{key:"addObject",value:function(e,t){var n=this.model,r=n.width,i=n.height,a=n.depth;this.type="gltf-object";var s=e.clone(),c=(new o.Box3).setFromObject(s),u=c.getCenter(s.position),l=c.getSize(new o.Vector3);if(u.multiplyScalar(-1),s.updateMatrix(),this.add(s),this.scale.set(r/l.x,a/l.y,i/l.z),t&&t.length)for(var h=0;h<t.length;h++){var f=t[h];this._visualizer.mixer.clipAction(f).play()}}}]),t}(p),sn=function(e){function t(){return qt(this,t),en(this,tn(t).apply(this,arguments))}return nn(t,e),$t(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"controls",get:function(){}},{key:"nature",get:function(){return on}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=Ht.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t,n){return t&&ln(e.prototype,t),n&&ln(e,n),e}function fn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e,t,n){return(dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("gltf-object",sn),s.register("gltf-object",an);var bn=["#6666ff","#ccccff","#ffcccc","#cc3300"],vn={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"z-pos",name:"zPos",property:"zPos"},{type:"string",label:"location",name:"location",property:"location"}]},gn=function(e){function t(e,n,r){var o;return un(this,t),(o=fn(this,pn(t).call(this,e,n,r))).userData.temperature=e.humidity?e.humidity[0]:0,o.userData.humidity=e.humidity?e.humidity[1]:0,o}return yn(t,e),hn(t,[{key:"createObject",value:function(e){var t=this.model,n=t.depth,r=t.cx,o=t.cy,i=t.rx,a=t.ry,s=(t.rotation,t.location);this.type="humidity-sensor",s&&(this.name=s);for(var c=0;c<3;c++){this.createSensor(i*(1+.5*c),a*(1+.5*c),n*(1+.5*c),c).material.opacity=.5-.15*c}this._visualizer._heatmap&&(this._visualizer._heatmap.addData({x:Math.floor(r),y:Math.floor(o),value:this.userData.temperature}),this._visualizer.updateHeatmapTexture())}},{key:"createSensor",value:function(e,t,n,r){var i,a=0===r,s=new o.SphereBufferGeometry(e,32,32);i=a?new o.MeshLambertMaterial({color:"#cc3300",side:o.FrontSide}):new o.MeshBasicMaterial({color:"#cc3300",side:o.FrontSide,wireframe:!0,wireframeLinewidth:1});var c=new o.Mesh(s,i);return c.material.transparent=!0,a?c.onmousemove=this.onmousemove:c.raycast=function(){},this.add(c),c}},{key:"onUserDataChanged",value:function(){dn(pn(t.prototype),"onUserDataChanged",this).call(this);var e=this._model,n=e.cx,r=e.cy;n=Math.floor(n),r=Math.floor(r);var o=this.userData.temperature,i=!0,a=!1,s=void 0;try{for(var c,u=this.children[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value,h=0;h=o<0?0:o<10?1:o<20?2:3,l.material.color.set(bn[h])}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}if(this._visualizer._heatmap){var f=this._visualizer._heatmap._store._data[n][r];this._visualizer._heatmap.addData({x:n,y:r,value:o-f}),this._visualizer._heatmap.repaint(),this._visualizer.updateHeatmapTexture()}}},{key:"onmousemove",value:function(e,t){var n=t.tooltip||t._scene2d.getObjectByName("tooltip");if(n&&(t._scene2d.remove(n),t.tooltip=null,t.render_threed()),this.parent.visible){this.parent.userData||(this.parent.userData={});var r="";for(var i in this.parent.userData)this.parent.userData[i]&&(r+=i+": "+this.parent.userData[i]+"\n");if(r.length>0){n=t.tooltip=t.makeTextSprite(r);var a=new o.Vector3,s=n.getWorldScale().clone(),c=s.x/t.model.width,u=s.y/t.model.height;a.set(t._mouse.x,t._mouse.y,.5),s.normalize(),s.x=s.x/2*c,s.y=-s.y/2*u,s.z=0,a.add(s),a.unproject(t._2dCamera),n.position.set(a.x,a.y,a.z),n.name="tooltip",n.scale.x=n.scale.x*c,n.scale.y=n.scale.y*u,t._scene2d.add(n),t._renderer&&t._renderer.render(t._scene2d,t._2dCamera),t.invalidate()}}}},{key:"cx",get:function(){var e=this.model.cx,t=void 0===e?0:e;return this._cx||(this._cx=t-this._canvasSize.width/2),this._cx}},{key:"cy",get:function(){var e=this.model.cy,t=void 0===e?0:e;return this._cy||(this._cy=t-this._canvasSize.height/2),this._cy}},{key:"cz",get:function(){var e=this.model,t=e.zPos,n=void 0===t?0:t,r=e.rx,o=void 0===r?0:r;return this._cz||(this._cz=n+o),this._cz}}]),t}(p),wn=function(e){function t(){return un(this,t),fn(this,pn(t).apply(this,arguments))}return yn(t,e),hn(t,[{key:"is3dish",value:function(){return!0}},{key:"_draw",value:function(e){var t=this.bounds,n=t.left,r=t.top,o=t.width,i=t.height;e.beginPath(),e.rect(n,r,o,i),this.model.fillStyle={type:"pattern",fitPattern:!0,image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABBCAYAAACTiffeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQ0E1QkUzRTRDMDcxMUU2QkMyRDk3MzlGN0EzMTI2NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0E1QkUzRjRDMDcxMUU2QkMyRDk3MzlGN0EzMTI2NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJFQ0Q4QzE5NEI1MjExRTZCQzJEOTczOUY3QTMxMjY1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJFQ0Q4QzFBNEI1MjExRTZCQzJEOTczOUY3QTMxMjY1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+tgU1kQAAB4pJREFU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"},this.drawFill(e)}},{key:"nature",get:function(){return vn}}]),t}(r.Ellipse);r.Component.register("humidity-sensor",wn),s.register("humidity-sensor",gn);var kn=n(8),On=n.n(kn);function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}function Mn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=C.a.resolve("../obj/inspection_desk"),Pn={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"select",label:"stock-type",name:"stockType",property:{options:[{display:"Empty",value:"empty"},{display:"Small",value:"small"},{display:"Medium",value:"medium"},{display:"Full",value:"full"}]}}]},zn=function(e){function t(){return jn(this,t),Mn(this,_n(t).apply(this,arguments))}return En(t,e),Sn(t,[{key:"createObject",value:function(){this.model.stockType;t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;t.rotation;this.type="inspection-desk";var a=e.clone(),s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}}],[{key:"getInspectionDeskObject",value:function(e){}},{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(Rn,"/")),n.load("InspectionDesk.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(p),Cn=function(e){function t(){return jn(this,t),Mn(this,_n(t).apply(this,arguments))}return En(t,e),Sn(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return Pn}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=On.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("inspection-desk",Cn),s.register("inspection-desk",zn),o&&o.Object3D&&(o.Object3D.prototype.onUserDataChanged=function(){if(this.userData){if(this.userData.hasOwnProperty("position")){if(!this._visualizer)return;this._setPosition(this._visualizer.transcoord2dTo3d(this.userData.position))}this.userData.hasOwnProperty("euler")&&this._setEuler({yaw:this.userData.euler.yaw,pitch:this.userData.euler.pitch,roll:this.userData.euler.roll}),this.userData.hasOwnProperty("quaternion")&&this._setQuaternion({x:this.userData.quaternion.qx,y:this.userData.quaternion.qy,z:this.userData.quaternion.qz,w:this.userData.quaternion.qw})}},o.Object3D.prototype._setPosition=function(e){var t=e.x,n=e.y,r=this._visualizer.mixers.indexOf(this._mixer);r>=0&&this._visualizer.mixers.splice(r,1),this._mixer=new o.AnimationMixer(this),this._visualizer.mixers.push(this._mixer);var i=new o.VectorKeyframeTrack(".position",[0,1],[this.position.x,this.position.y,this.position.z,t,this.position.y,n]),a=new o.AnimationClip("Move",2,[i]),s=this._mixer.clipAction(a);s.clampWhenFinished=!0,s.loop=o.LoopOnce,s.play()},o.Object3D.prototype._setQuaternion=function(e){var t=e.x,n=e.y,r=e.z,i=e.w,a=new o.Quaternion;a.set(t,n,r,i),this.setRotationFromQuaternion(a),this.rotateOnAxis(new o.Vector3(1,0,0),-Math.PI),this.rotateOnAxis(new o.Vector3(0,1,0),Math.PI),this.rotateOnAxis(new o.Vector3(0,0,1),-Math.PI/2)},o.Object3D.prototype._setEuler=function(e){var t=e.yaw,n=e.pitch,r=e.roll,i=new o.Euler;i.set(t,n,r,"ZYX"),this.setRotationFromEuler(i)});var Nn=o,In=n(9),Dn=n.n(In);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t,n){return t&&Ln(e.prototype,t),n&&Ln(e,n),e}function Un(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn={empty:"../obj/pallet/EmptyPallet/EmptyPallet.dae",small:"../obj/pallet/SmallPallet/SmallPallet.dae",medium:"../obj/pallet/MediumPallet/MediumPallet.dae",full:"../obj/pallet/FullPallet/FullPallet.dae",fullWithJockey:"../obj/pallet/FullWithJockey/FullJockey.dae"},Qn={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"select",label:"stock-type",name:"stockType",property:{options:[{display:"Empty",value:"empty"},{display:"Small",value:"small"},{display:"Medium",value:"medium"},{display:"Full",value:"full"},{display:"Full With Jockey",value:"fullWithJockey"}]}}]},Jn=function(e){function t(){return Gn(this,t),Un(this,Wn(t).apply(this,arguments))}return Bn(t,e),Fn(t,[{key:"createObject",value:function(){var e=this.model.stockType,n=void 0===e?"empty":e;t.getThreedObjectLoader(n).then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;t.rotation;this.type="pallet";var a=e.clone();a.rotation.z=Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}}],[{key:"getThreedObjectLoader",value:function(e){return new Promise((function(t,n){new L(o.DefaultLoadingManager).load(Yn[e],(function(e){var n=e.scene;t(n)}))}))}},{key:"getPalletObject",value:function(e){}}]),t}(p),Hn=function(e){function t(){return Gn(this,t),Un(this,Wn(t).apply(this,arguments))}return Bn(t,e),Fn(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return Qn}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=Dn.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("pallet",Hn),s.register("pallet",Jn);var Xn=n(10),qn=n.n(Xn);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),e}function nr(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=C.a.resolve("../obj/Pallet_Jockey"),sr={mutable:!1,resizable:!0,rotatable:!0,properties:[]},cr=function(e){function t(){return $n(this,t),nr(this,rr(t).apply(this,arguments))}return or(t,e),tr(t,[{key:"createObject",value:function(){this.model.stockType;t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;t.rotation;this.type="pallet-jockey";var a=e.clone();a.rotation.z=-Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix(),this.setRotation(),this.setPosition()}}],[{key:"getPalletJockeyObject",value:function(e){}},{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(ar,"/")),n.load("SmallJockey.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(p),ur=function(e){function t(){return $n(this,t),nr(this,rr(t).apply(this,arguments))}return or(t,e),tr(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return sr}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=qn.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("pallet-jockey",ur),s.register("pallet-jockey",cr);var lr=n(11),hr=n(12);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vr=C.a.resolve("../obj/Casual_Man_02"),gr=function(e){function t(){return dr(this,t),yr(this,mr(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,e),n=t,o=[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new hr.a,r=new lr.a;n.setPath("".concat(vr,"/")),r.setPath("".concat(vr,"/")),r.load("Casual_Man.mtl",(function(t){t.preload(),n.setMaterials(t),n.load("Casual_Man.obj",(function(t){var n=t;n&&n.children&&n.children.length>0&&(n=n.children[0]),n.geometry.center(),e(t)}))}))}))),t._threedObjectLoader}}],(r=[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,o=t.depth;this.type="person";var i=e.clone();this.add(i),n/=3.7,r/=3.7,o/=3.7,this.scale.set(n,o,r)}}])&&pr(n.prototype,r),o&&pr(n,o),t}(p);function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}s.register("person",gr);var Sr=function(e){function t(){return kr(this,t),Ar(this,jr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,e),n=t,(r=[{key:"raycast",value:function(e,t){}},{key:"shape",get:function(){var e=this.model.path,t=void 0===e?[]:e,n=new o.Shape;n.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)n.lineTo(t[r].x,t[r].y);return n}},{key:"minMax",get:function(){var e,t,n,r;return this._minMax||(this.model.path.forEach((function(o,i){if(0==i)return e=n=o.x,void(t=r=o.y);e=Math.min(e,o.x),n=Math.max(n,o.x),t=Math.min(t,o.y),r=Math.max(r,o.y)})),this._minMax={minX:e,minY:t,maxX:n,maxY:r}),this._minMax}},{key:"cx",get:function(){if(!this._cx){var e=this.minMax,t=e.minX,n=t,r=e.maxX-t,o=this._canvasSize;this._cx=n+r/2-o.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.minMax,t=e.minY,n=t,r=e.maxY-t,o=this._canvasSize;this._cy=n+r/2-o.height/2}return this._cy}}])&&Or(n.prototype,r),i&&Or(n,i),t}(Rt);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e,t,n){return(Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}s.register("polygon",Sr);var Cr=function(e){function t(){return _r(this,t),Tr(this,Pr(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,e),n=t,i=[{key:"stockGeometry",get:function(){return t._geometry||(t._geometry=new o.BoxBufferGeometry(1,1,1)),t._geometry}},{key:"defaultMaterial",get:function(){return t._material_default||(t._material_default=new o.MeshLambertMaterial({color:"#ccaa76",side:o.FrontSide})),t._material_default}}],(r=[{key:"dispose",value:function(){Rr(Pr(t.prototype),"dispose",this).call(this),delete this._visualizer}},{key:"getMaterial",value:function(e){if(!this.stockMaterials[e]){if(!(this._visualizer&&this._visualizer&&this._visualizer.legendTarget&&this._visualizer.legendTarget.get("status")))return this.userDefineDefaultMaterial;var t=this._visualizer.legendTarget.get("status").ranges[e];t&&t.color||(this.stockMaterials[e]=this.userDefineDefaultMaterial),this.stockMaterials[e]=new o.MeshLambertMaterial({color:t.color,side:o.FrontSide})}return this.stockMaterials[e]}},{key:"createObject",value:function(){var e=this.model,t=e.width,n=e.height,r=e.depth;this._hideEmptyStock=this._visualizer&&this._visualizer.model.hideEmptyStock,this.createStock(t,n,r)}},{key:"createStock",value:function(e,n,r){this.geometry=t.stockGeometry,this.material=this._hideEmptyStock?this.emptyMaterial:this.userDefineDefaultMaterial,this.type="stock",this.scale.set(e,r,n)}},{key:"setOpacity",value:function(){}},{key:"onUserDataChanged",value:function(){var e=this;if(Rr(Pr(t.prototype),"onUserDataChanged",this).call(this),this._visualizer&&this._visualizer&&this._visualizer.legendTarget&&this._visualizer.legendTarget.get("status")){var n=this._visualizer.legendTarget.get("status"),r=n.field,o=n.ranges;if(r&&o){var i=(this.userData.items?this.userData.items:[this.userData]).slice(0,1);for(var a in i){var s=i[a][r];if(null==s)return void(this.material=this._hideEmptyStock?this.emptyMaterial:this.userDefineDefaultMaterial);o.some((function(t,n){var r=t.min,o=t.max;if(r=Number(r)||r,(o=Number(o)||o)>s){if(void 0!==r){if(!(r<=s))return!1;e.material=e.getMaterial(n)}else e.material=e.getMaterial(n);return!0}e.material=e._hideEmptyStock?e.emptyMaterial:e.userDefineDefaultMaterial}))}}}}},{key:"onBeforeRender",value:function(){if(this._focused){var e=(performance.now()-this._focusedAt)/2e3;this.rotation.y=2*Math.PI*e,this._visualizer.invalidate()}else this._focusedAt&&(delete this._focusedAt,this.rotation.y=0,this._visualizer.invalidate())}},{key:"onmouseup",value:function(e,t,n){this.visible&&(this.userData&&0!==Object.keys(this.userData).length||(this.userData={loc:this.name,items:[{loc:this.name}]}),n&&"function"==typeof n&&n({data:Object.assign({color:"#"+this.material.color.getHexString()},this.userData),location:"right-top"}))}},{key:"stockMaterials",get:function(){return this._visualizer._stock_materials||(this._visualizer._stock_materials=[]),this._visualizer._stock_materials}},{key:"userDefineDefaultMaterial",get:function(){if(!this._visualizer._default_material){if(!(this._visualizer&&this._visualizer&&this._visualizer.legendTarget&&this._visualizer.legendTarget.get("status")))return t.defaultMaterial;var e=this._visualizer.legendTarget.get("status").defaultColor;if(!e)return t.defaultMaterial;this._visualizer._default_material=new o.MeshLambertMaterial({color:e,side:o.FrontSide})}return this._visualizer._default_material}},{key:"emptyMaterial",get:function(){var e="#ccaa76";return this._visualizer._empty_material||(this._visualizer&&this._visualizer&&this._visualizer.legendTarget&&this._visualizer.legendTarget.get("status")&&(e=this._visualizer.legendTarget.get("status").defaultColor||"#ccaa76"),this._visualizer._empty_material=new o.MeshBasicMaterial({color:e}),this._visualizer._empty_material.opacity=.33,this._visualizer._empty_material.transparent=!0),this._visualizer._empty_material}}])&&Er(n.prototype,r),i&&Er(n,i),t}(Re);function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e,t,n){return(Zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Dr(this,Gr(t).call(this,e,n,r)))._frames=[],o._boards=[],o}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,e),n=t,i=[{key:"rackFrameGeometry",get:function(){return t._rackFrameGeometry||(t._rackFrameGeometry=new o.BoxBufferGeometry(1,1,1)),t._rackFrameGeometry}},{key:"boardGeometry",get:function(){return t._boardGeometry||(t._boardGeometry=new o.PlaneBufferGeometry(1,1,1,1)),t._boardGeometry}},{key:"boardMaterial",get:function(){return t._boardMaterial||(t._boardMaterial=new o.MeshBasicMaterial({color:"#dedede",side:o.DoubleSide})),t._boardMaterial.polygonOffset=!0,t._boardMaterial.polygonOffsetFactor=-.1,t._boardMaterial}},{key:"frameMaterial",get:function(){return t._frameMaterial||(t._frameMaterial=new o.MeshLambertMaterial({color:13421772})),t._frameMaterial}}],(r=[{key:"dispose",value:function(){Zr(Gr(t.prototype),"dispose",this).call(this),delete this._visualizer}},{key:"createObject",value:function(){var e,t=this.model,n=t.type,r=t.width,o=t.height,i=t.depth,a=t.fillStyle,s=t.hideRackFrame,c=t.shelves,u=t.shelfLocations,l=t.binLocations,h=void 0===l?"":l,f=t.stockScale,d=void 0===f?.7:f;if(this.type=n,!s){var p=this.createRackFrame(r,o,i*c);this.add(p)}if(u)e=u.split(/\s*,\s*/);else{e=[];for(var y=0;y<c;y++)e.push(y+1)}var m=h.trim().split("\n").reverse();for(y=0;y<c;y++){var b=-i*c*.5;if(""!=e[y]){if(y>0&&!s){var v=this.createRackBoard(r,o);v.position.set(0,b+i*y,0),v.rotation.x=Math.PI/2,v.material.opacity=.5,v.material.transparent=!0,this.add(v)}for(var g=(m[y]||"").trim().split(/\s*,\s*/),w=r/(g.length||1),k=0;k<g.length;k++){var O=new Cr({width:w*d,height:o*d,depth:i*d,fillStyle:a},this._canvasSize,this._visualizer),A=i*d;O.position.set(r/2*((2*k-(g.length-1))/g.length),b+i*y+.5*A,0);var j=(g[k]||"").replace(".","");O.name="".concat(this.makeLocationString(e[y])).concat(j),this.add(O),this._visualizer.putObject(O.name,O)}}}}},{key:"createRackFrame",value:function(e,n,r){for(var i=Math.round(Math.min(e,n)/10),a=new o.Group,s=0;s<4;s++){var c=t.rackFrameGeometry,u=t.frameMaterial,l=new o.Mesh(c,u);switch(l.scale.set(i,r,i),s){case 0:l.position.set(e/2,0,n/2);break;case 1:l.position.set(e/2,0,-n/2);break;case 2:l.position.set(-e/2,0,n/2);break;case 3:l.position.set(-e/2,0,-n/2)}a.add(l)}return a}},{key:"createRackBoard",value:function(e,n){var r=t.boardMaterial,i=t.boardGeometry,a=new o.Mesh(i,r);return a.scale.set(e,n,1),a}},{key:"makeLocationString",value:function(e){var t=this._model,n=t.locPattern,r=void 0===n?"{z}{s}-{u}-{sh}":n,o=t.zone,i=void 0===o?"":o,a=t.section,s=void 0===a?"":a,c=t.unit,u=void 0===c?"":c,l=r;return l=(l=(l=(l=l.replace(/{z}/i,i)).replace(/{s}/i,s)).replace(/{u}/i,u)).replace(/{sh}/i,e)}},{key:"makeShelfString",value:function(e,t,n){if(e&&t&&n){var r=/^\-/.test(e),o=((e=e.replace(/#+/,"#")).match(/0/g)||[]).length||0,i=String(r?n-t+1:t);if(i.length>o&&o>0)i=i.split("").shift(i.length-o).join("");else{for(var a="",s=0;s<o-i.length;s++)a+="0";i=a+i}return i}}},{key:"setOpacity",value:function(){}},{key:"raycast",value:function(e,t){}},{key:"onchange",value:function(e,t){e.hasOwnProperty("data")&&(this.data=e.data)}},{key:"cz",get:function(){if(!this._cz){var e=this.model,t=e.shelves,n=void 0===t?1:t,r=e.depth,o=void 0===r?1:r;this._cz=.5*o*n}return this._cz}},{key:"frames",get:function(){return this._frames}},{key:"boards",get:function(){return this._boards}}])&&Ir(n.prototype,r),i&&Ir(n,i),t}(p);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t){return(Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}s.register("rack",Fr);var Qr=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Br(this,Vr(t).call(this)))._model=e,o._visualizer=r,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yr(e,t)}(t,e),n=t,(r=[{key:"dispose",value:function(){var e=this;this.children.slice().forEach((function(t){t.dispose&&t.dispose(),t.geometry&&t.geometry.dispose&&t.geometry.dispose(),t.material&&t.material.dispose&&t.material.dispose(),t.texture&&t.texture.dispose&&t.texture.dispose(),e.remove(t)}))}},{key:"createObject",value:function(e){var t=this.model,n=t.left,r=void 0===n?0:n,o=t.top,i=void 0===o?0:o,a=t.width,s=void 0===a?0:a,c=t.height,u=void 0===c?0:c,l=r+s/2-e.width/2,h=i+u/2-e.height/2;this.position.x=l,this.position.z=h}},{key:"createChildrenObject",value:function(e){var t=this;this._model.components.forEach((function(n){var r=s.register(n.type);if(r){var o=new r(n,e,t._visualizer);o&&(o.name=n.id,t.add(o))}else console.warn("Class not found : 3d class is not exist")}))}},{key:"model",get:function(){return this._model}}])&&Wr(n.prototype,r),o&&Wr(n,o),t}(o.Group);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t,n){return t&&Xr(e.prototype,t),n&&Xr(e,n),e}function Kr(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $r(e,t,n){return($r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}s.register("group",Qr);var ro={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"rows",name:"rows",property:"rows"},{type:"number",label:"columns",name:"columns",property:"columns"},{type:"string",label:"zone",name:"zone",property:"zone"},{type:"number",label:"shelves",name:"shelves",property:"shelves"},{type:"number",label:"depth",name:"depth",property:"depth"},{type:"string",label:"location-pattern",name:"locPattern",placeholder:"{z}{s}-{u}-{sh}"},{type:"number",label:"section-digits",name:"sectionDigits",placeholder:"1, 2, 3, ..."},{type:"number",label:"unit-digits",name:"unitDigits",placeholder:"1, 2, 3, ..."},{type:"string",label:"shelf-locations",name:"shelfLocations",placeholder:"1,2,3,... / ,,,04"},{type:"number",label:"stock-scale",name:"stockScale",property:{step:.01,min:0,max:1}},{type:"checkbox",label:"hide-rack-frame",name:"hideRackFrame"}]},oo={all:["top","left","bottom","right"],out:["top","left","bottom","right"],left:["left"],right:["right"],top:["top"],bottom:["bottom"],leftright:["left","right"],topbottom:["top","bottom"]},io={strokeStyle:"",lineDash:"solid",lineWidth:0},ao={strokeStyle:"#999",lineDash:"solid",lineWidth:1},so=r.Layout.get("table");function co(e){return r.Model.compile({type:"rack-table-cell",strokeStyle:"black",fillStyle:"transparent",left:0,top:0,width:1,height:1,textWrap:!0,isEmpty:!1,border:lo(ao,"all")},e)}function uo(e,t){var n=JSON.parse(JSON.stringify(e));return delete n.text,r.Model.compile(n,t)}function lo(e,t){return(oo[t]||[]).reduce((function(t,n){return t[n]=e,t}),{})}function ho(e,t,n){e&&e.set("border",Object.assign({},e.get("border")||{},lo(t,n)))}function fo(e,t,n,r){return 0==r||!(r%t)||-1==n.indexOf(r-1)}function po(e,t,n,r){return r==e-1||r%t==t-1||-1==n.indexOf(r+1)}function yo(e,t,n,r){return r<t||-1==n.indexOf(r-t)}function mo(e,t,n,r){return r>e-t-1||-1==n.indexOf(r+t)}function bo(e,t){return t-e}function vo(e,t){return t+e}function go(e,t){return t%e?t-1:-1}function wo(e,t){return(t+1)%e?t+1:-1}function ko(e,t){for(var n=[],r=0;r<t;r++)n.push(1);return n}var Oo={ondragmove:function(e,t,n){var r=n.textBounds,o=r.left,i=(r.top,r.width),a=(r.height,n.widths_sum),s=n.widths.slice(),c=o+s.slice(0,t+1).reduce((function(e,t){return e+t}),0)/a*i,u=(n.transcoordP2S(e.x,e.y).x-c)/i*a,l=a/i*5;u=u<0?-Math.min(s[t]-l,-u):Math.min(s[t+1]-l,u),s[t]=Math.round(100*(s[t]+u))/100,s[t+1]=Math.round(100*(s[t+1]-u))/100,n.set("widths",s)}},Ao={ondragmove:function(e,t,n){var r=n.textBounds,o=(r.left,r.top),i=(r.width,r.height),a=n.heights_sum,s=n.heights.slice();t-=n.columns-1;var c=o+s.slice(0,t+1).reduce((function(e,t){return e+t}),0)/a*i,u=(n.transcoordP2S(e.x,e.y).y-c)/i*a,l=a/i*5;u=u<0?-Math.min(s[t]-l,-u):Math.min(s[t+1]-l,u),s[t]=Math.round(100*(s[t]+u))/100,s[t+1]=Math.round(100*(s[t+1]-u))/100,n.set("heights",s)}},jo=function(e){function t(e,n,r,o){var i;return Hr(this,t),(i=Kr(this,eo(t).call(this,e)))._visualizer=r,i._sceneComponent=o,i.createRacks(n),i}return to(t,e),qr(t,[{key:"dispose",value:function(){$r(eo(t.prototype),"dispose",this).call(this),delete this._visualizer}},{key:"createRacks",value:function(e){var t=this,n=this.model,r=n.components,o=void 0===r?[]:r,i=n.left,a=n.top,s=n.width,c=n.height,u=n.rotation,l=void 0===u?0:u,h=n.zone,f=n.locPattern,d=void 0===f?"{z}{s}-{u}{sh}":f,p=n.shelfPattern,y=n.shelfLocations,m=n.shelves,b=void 0===m?1:m,v=n.depth,g=void 0===v?1:v,w=(n.columns,n.rows,n.minUnit,n.minSection,n.stockScale),k=void 0===w?.7:w,O=n.hideRackFrame,A=i+s/2-e.width/2,j=a+c/2-e.height/2;if(this.position.set(A,0,j),this.rotation.y=-l,p){for(var x=[],S=0;S<b;S++){var M=this.makeShelfString(p,S+1,b);x.push(M)}y=x.join(",")}delete this.model.shelfPattern,o.forEach((function(e){var n={left:e.left,top:e.top,width:e.width,height:e.height,depth:g,shelves:b,unit:e.unit,section:e.section,zone:h,locPattern:d,shelfLocations:e.shelfLocations||y,binLocations:e.binLocations,isEmpty:e.isEmpty,hideRackFrame:O,stockScale:k},r=(e.shelfLocations||"").split(/\s*,\s*/);if(!n.isEmpty||r&&r.length==b){e=new Fr(n,t.model,t._visualizer);t.add(e)}}))}},{key:"mergeObjects",value:function(){var e,t,n=[],r=[];this.children.forEach((function(e){n=n.concat(e.frames),r=r.concat(e.boards)})),n.forEach((function(t){t.children.forEach((function(t){e?e.geometry.merge(t.geometry):e=t}))})),r.forEach((function(e){t?t.geometry.merge(e.geometry):t=e}))}},{key:"makeShelfString",value:function(e,t,n){if(e&&t&&n){var r=/^\-/.test(e),o=((e=e.replace(/#+/,"#")).match(/0/g)||[]).length||0,i=String(r?n-t+1:t);if(i.length>o&&o>0)i=i.split("").shift(i.length-o).join("");else{for(var a="",s=0;s<o-i.length;s++)a+="0";i=a+i}return i}}},{key:"setOpacity",value:function(){}},{key:"raycast",value:function(e,t){}},{key:"onchange",value:function(e,t){e.hasOwnProperty("data")&&(this.data=e.data)}}]),t}(Qr),xo=function(e){function t(){return Hr(this,t),Kr(this,eo(t).apply(this,arguments))}return to(t,e),qr(t,[{key:"is3dish",value:function(){return!0}},{key:"dispose",value:function(){$r(eo(t.prototype),"dispose",this).call(this),delete this._focused_cell}},{key:"created",value:function(){var e=this.rows*this.columns,t=this.size()-e;if(0!=t){if(t>0){var n=this._components.slice(t);this.remove(n)}else{for(var r=[],o=0;o<-t;o++)r.push(co(this.app));this.add(r)}var i=this.get("widths"),a=this.get("heights");(!i||i.length<this.columns)&&this.set("widths",this.widths),(!a||a.length<this.rows)&&this.set("heights",this.heights)}}},{key:"buildCells",value:function(e,t,n,r){if(e<n){var o=this._components.slice(r*e);this.remove(o)}var i=Math.min(e,n);if(t>r)for(var a=0;a<i;a++)for(var s=r;s<t;s++)this.insertComponentAt(co(this.app),a*t+s);else if(t<r){for(var c=[],u=0;u<i;u++)for(var l=t;l<r;l++)c.push(this.components[u*r+l]);this.remove(c)}if(e>n){for(var h=[],f=n;f<e;f++)for(var d=0;d<t;d++)h.push(co(this.app));this.add(h)}this.set({widths:this.widths,heights:this.heights})}},{key:"setCellsStyle",value:function(e,t,n){var r=this,o=this.components,i=o.length,a=this.get("columns"),s=[];e.forEach((function(e){if(s.push(e),e.colspan||e.rowspan)for(var t=r.getRowColumn(e).column,n=r.getRowColumn(e).row,o=n;o<n+e.rowspan;o++)for(var i=t;i<t+e.colspan;i++)o==n&&i==t||s.push(r.components[o*r.columns+i])}));var c=s.map((function(e){return o.indexOf(e)}));c.forEach((function(e){var r=o[e];switch(n){case"all":ho(r,t,n),fo(0,a,c,e)&&ho(o[go(a,e)],t,"right"),po(i,a,c,e)&&ho(o[wo(a,e)],t,"left"),yo(0,a,c,e)&&ho(o[bo(a,e)],t,"bottom"),mo(i,a,c,e)&&ho(o[vo(a,e)],t,"top");break;case"in":fo(0,a,c,e)||ho(r,t,"left"),po(i,a,c,e)||ho(r,t,"right"),yo(0,a,c,e)||ho(r,t,"top"),mo(i,a,c,e)||ho(r,t,"bottom");break;case"out":fo(0,a,c,e)&&(ho(r,t,"left"),ho(o[go(a,e)],t,"right")),po(i,a,c,e)&&(ho(r,t,"right"),ho(o[wo(a,e)],t,"left")),yo(0,a,c,e)&&(ho(r,t,"top"),ho(o[bo(a,e)],t,"bottom")),mo(i,a,c,e)&&(ho(r,t,"bottom"),ho(o[vo(a,e)],t,"top"));break;case"left":fo(0,a,c,e)&&(ho(r,t,"left"),ho(o[go(a,e)],t,"right"));break;case"right":po(i,a,c,e)&&(ho(r,t,"right"),ho(o[wo(a,e)],t,"left"));break;case"center":fo(0,a,c,e)||ho(r,t,"left"),po(i,a,c,e)||ho(r,t,"right");break;case"middle":yo(0,a,c,e)||ho(r,t,"top"),mo(i,a,c,e)||ho(r,t,"bottom");break;case"top":yo(0,a,c,e)&&(ho(r,t,"top"),ho(o[bo(a,e)],t,"bottom"));break;case"bottom":mo(i,a,c,e)&&(ho(r,t,"bottom"),ho(o[vo(a,e)],t,"top"));break;case"clear":ho(r,io,"all"),fo(0,a,c,e)&&ho(o[go(a,e)],io,"right"),po(i,a,c,e)&&ho(o[wo(a,e)],io,"left"),yo(0,a,c,e)&&ho(o[bo(a,e)],io,"bottom"),mo(i,a,c,e)&&ho(o[vo(a,e)],io,"top")}}))}},{key:"getRowColumn",value:function(e){var t=this.components.indexOf(e);this.components.length;return{column:t%this.columns,row:Math.floor(t/this.columns)}}},{key:"getCellsByRow",value:function(e){return this.components.slice(e*this.columns,(e+1)*this.columns)}},{key:"getCellsByColumn",value:function(e){for(var t=[],n=0;n<this.rows;n++)t.push(this.components[this.columns*n+e]);return t}},{key:"deleteRows",value:function(e){var t=this,n=[];e.forEach((function(e){var r=t.getRowColumn(e).row;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse();var r=this.heights.slice();n.forEach((function(e){t.remove(t.getCellsByRow(e))})),r.splice(n,1),this.model.rows-=n.length,this.set("heights",r)}},{key:"deleteColumns",value:function(e){var t=this,n=[];e.forEach((function(e){var r=t.getRowColumn(e).column;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse(),n.forEach((function(e){var n=t.widths.slice();t.remove(t.getCellsByColumn(e)),n.splice(e,1),t.model.columns-=1,t.set("widths",n)}))}},{key:"insertCellsAbove",value:function(e){var t=this,n=[];if(e.forEach((function(e){var r=t.getRowColumn(e).row;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse(),n.length>=2)return!1;var r=n[0],o=[],i=[];n.forEach((function(e){for(var a=0;a<t.columns;a++)i.push(uo(t.components[e*t.columns+a].model,t.app));o.push(t.heights[e]),i.reverse().forEach((function(e){t.insertComponentAt(e,r*t.columns)}));var s=t.heights.slice();s.splice.apply(s,[r,0].concat(o)),t.set("heights",s),t.model.rows+=n.length,t.clearCache()}))}},{key:"insertCellsBelow",value:function(e){var t=this,n=[];if(e.forEach((function(e){var r=t.getRowColumn(e).row;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse(),n.length>=2)return!1;var r=n[n.length-1]+1,o=[],i=[];n.forEach((function(e){for(var n=0;n<t.columns;n++)i.push(uo(t.components[e*t.columns+n].model,t.app));o.push(t.heights[e]),i.reverse().forEach((function(e){t.insertComponentAt(e,r*t.columns)}));var a=t.heights.slice();a.splice.apply(a,[r,0].concat(o)),t.set("heights",a),t.model.rows+=1,t.clearCache()}))}},{key:"insertCellsLeft",value:function(e){var t=this,n=[];if(e.forEach((function(e){var r=t.getRowColumn(e).column;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse(),n.length>=2)return!1;var r=n[0],o=[],i=[];n.forEach((function(e){for(var a=0;a<t.rows;a++)i.push(uo(t.components[e+t.columns*a].model,t.app));o.push(t.widths[e]);var s=t.columns,c=t.rows;i.reverse().forEach((function(e){0==c&&(c=t.rows,s++),c--,t.insertComponentAt(e,r+c*s)}));var u=t.widths.slice();t.model.columns+=n.length,u.splice.apply(u,[r,0].concat(o)),t.set("widths",u)}))}},{key:"insertCellsRight",value:function(e){var t=this,n=[];if(e.forEach((function(e){var r=t.getRowColumn(e).column;-1==n.indexOf(r)&&n.push(r)})),n.sort((function(e,t){return e-t})),n.reverse(),n.length>=2)return!1;var r=n[n.length-1]+1,o=[],i=[];n.forEach((function(e){for(var a=0;a<t.rows;a++)i.push(uo(t.components[e+t.columns*a].model,t.app));o.push(t.widths[e]);var s=t.columns,c=t.rows;i.reverse().forEach((function(e){0==c&&(c=t.rows,s++),c--,t.insertComponentAt(e,r+c*s)}));var u=t.widths.slice();t.model.columns+=n.length,u.splice.apply(u,[r,0].concat(o)),t.set("widths",u)}))}},{key:"distributeHorizontal",value:function(e){var t=this,n=[];e.forEach((function(e){var r=t.getRowColumn(e);-1==n.indexOf(r.column)&&n.push(r.column)}));var r=n.reduce((function(e,n){return e+t.widths[n]}),0),o=Math.round(r/n.length*100)/100,i=this.widths.slice();n.forEach((function(e){i[e]=o})),this.set("widths",i)}},{key:"distributeVertical",value:function(e){var t=this,n=[];e.forEach((function(e){var r=t.getRowColumn(e);-1==n.indexOf(r.row)&&n.push(r.row)}));var r=n.reduce((function(e,n){return e+t.heights[n]}),0),o=Math.round(r/n.length*100)/100,i=this.heights.slice();n.forEach((function(e){i[e]=o})),this.set("heights",i)}},{key:"increaseLocation",value:function(e,t,n,r){var o=this.root.selected,i=this.classifyByRow(o),a=this.getAisleRowIndices(i),s=this.classifyCellsBySection(i,a),c=this.rearrangeByAisle(e,s,a);t&&(c=this.removeEmptyCells(c));var u=this.mergeRows(c);this.setLocations(u,n,r)}},{key:"classifyByRow",value:function(e){var t=[];return e.forEach((function(e){var n=e.index,r=n.row,o=n.column;t[r]||(t[r]=[]),t[r][o]=e})),t}},{key:"findAisle",value:function(e){return e?e.filter((function(e){return e[0]&&e[0].isAisle})):[]}},{key:"getAisleRowIndices",value:function(e){var t=this.findAisle(e),n=[];return t.forEach((function(t){n.push(e.indexOf(t))})),n}},{key:"classifyCellsBySection",value:function(e,t){var n,r=[],o=!1;return e.forEach((function(e,i){var a=t.indexOf(i)>-1;o||a||(n=[],r.push(n)),o=a,n.push(e)})),r}},{key:"rearrangeByAisle",value:function(e,t){var n=[];switch(e.toLowerCase()){case"cw":var r=!1;t.forEach((function(e,t){var o=[];n.push(o),e.forEach((function(e,t){r&&e.reverse(),t%2==0&&(o.push(e),r=!r)}))}));break;case"ccw":r=!0;t.forEach((function(e,t){var o=[];n.push(o),e.forEach((function(e,t){r&&e.reverse(),t%2==0&&(o.push(e),r=!r)}))}));break;case"zigzag":t.forEach((function(e,t){var r=[];e.forEach((function(e,t){t%2==0&&r.push(e)}));var o=r.length,i=[],a=[];r.forEach((function(e,t){e.forEach((function(e,n){i[t+n*r.length]=e}))}));for(var s=i.length/o,c=0;c<o;c++)a.push(i.slice(c*s,(c+1)*s));n.push(a)}));break;case"zigzag-reverse":t.forEach((function(e,t){var r=[];e.forEach((function(e,t){t%2==0&&(e.reverse(),r.push(e))}));var o=r.length,i=[],a=[];r.forEach((function(e,t){e.forEach((function(e,n){i[t+n*r.length]=e}))}));for(var s=i.length/o,c=0;c<o;c++)a.push(i.slice(c*s,(c+1)*s));n.push(a)}))}return n}},{key:"removeEmptyCells",value:function(e){var t=[];return e.forEach((function(e){var n=[];t.push(n),e.forEach((function(e){var t=[];n.push(t),e.forEach((function(e,n){e.isEmpty||t.push(e)}))}))})),t}},{key:"mergeRows",value:function(e){var t=[];return e.forEach((function(e){var n=[];e.forEach((function(e){var t=[];e.forEach((function(e){t=t.concat(e)})),n=n.concat(t)})),t.push(n)})),t}},{key:"setLocations",value:function(e,t,n){var r=this.model,o=r.sectionDigits,i=void 0===o?2:o,a=r.unitDigits,s=void 0===a?2:a,c=Number(t)||1;e.forEach((function(e){var t=Number(n)||1;e.forEach((function(e){e.isEmpty?(e.set("section",null),e.set("unit",null)):(e.set("section",String(c).padStart(i,0)),e.set("unit",String(t).padStart(s,0))),t++})),c++}))}},{key:"onchange",value:function(e,t){("rows"in e||"columns"in e)&&this.buildCells(this.get("rows"),this.get("columns"),t.hasOwnProperty("rows")?t.rows:this.get("rows"),t.hasOwnProperty("columns")?t.columns:this.get("columns")),"shelfLocations"in e&&delete this.model.shelfPattern,this.invalidate()}},{key:"oncellchanged",value:function(e,t){this.invalidate()}},{key:"focusible",get:function(){return!1}},{key:"widths",get:function(){var e=this.get("widths");return e?e.length<this.columns?e.concat(ko(0,this.columns-e.length)):e.length>this.columns?e.slice(0,this.columns):e:ko(0,this.columns)}},{key:"heights",get:function(){var e=this.get("heights");return e?e.length<this.rows?e.concat(ko(0,this.rows-e.length)):e.length>this.rows?e.slice(0,this.rows):e:ko(0,this.rows)}},{key:"layout",get:function(){return so}},{key:"rows",get:function(){return this.get("rows")}},{key:"columns",get:function(){return this.get("columns")}},{key:"lefts",get:function(){var e=this;return this.components.filter((function(t,n){return!(n%e.columns)}))}},{key:"centers",get:function(){var e=this;return this.components.filter((function(t,n){return n%e.columns&&(n+1)%e.columns}))}},{key:"rights",get:function(){var e=this;return this.components.filter((function(t,n){return!((n+1)%e.columns)}))}},{key:"tops",get:function(){return this.components.slice(0,this.columns)}},{key:"middles",get:function(){return this.components.slice(this.columns,this.columns*(this.rows-1))}},{key:"bottoms",get:function(){return this.components.slice(this.columns*(this.rows-1))}},{key:"all",get:function(){return this.components}},{key:"widths_sum",get:function(){var e=this,t=this.widths;return t?t.filter((function(t,n){return n<e.columns})).reduce((function(e,t){return e+t}),0):this.columns}},{key:"heights_sum",get:function(){var e=this,t=this.heights;return t?t.filter((function(t,n){return n<e.rows})).reduce((function(e,t){return e+t}),0):this.rows}},{key:"nature",get:function(){return ro}},{key:"controls",get:function(){var e=this.widths,t=this.heights,n=this.textBounds,r=n.width/this.widths_sum,o=n.height/this.heights_sum,i=n.left,a=n.top,s=[];return e.slice(0,this.columns-1).forEach((function(e){i+=e*r,s.push({x:i,y:n.top,handler:Oo})})),t.slice(0,this.rows-1).forEach((function(e){a+=e*o,s.push({x:n.left,y:a,handler:Ao})})),s}},{key:"eventMap",get:function(){return{"(self)":{"(descendant)":{change:this.oncellchanged}}}}}]),t}(r.ContainerAbstract);function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t){return!t||"object"!==So(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e,t,n){return(To="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ro(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}["rows","columns","widths","heights","widths_sum","heights_sum","controls"].forEach((function(e){return r.Component.memoize(xo.prototype,e,!1)})),r.Component.register("rack-table",xo),s.register("rack-table",jo);var zo={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"section",name:"section"},{type:"string",label:"unit",name:"unit"},{type:"string",label:"shelf-locations",name:"shelfLocations",placeholder:"1,2,3,... / ,,,04"},{type:"textarea",label:"bin-locations",name:"binLocations",placeholder:"1,2,3,..."},{type:"checkbox",label:"is-empty",name:"isEmpty"},{type:"location-increase-pattern",label:"",name:""},{type:"editor-table",label:"",name:"",property:{merge:!1,split:!1}}]};var Co=function(e){function t(){return Mo(this,t),Eo(this,Ro(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(t,e),n=t,(o=[{key:"_drawBorder",value:function(e,t,n,o,i,a){a&&a.strokeStyle&&a.lineWidth&&a.lineDash&&(e.beginPath(),e.moveTo(t,n),e.lineTo(o,i),r.Component.drawStroke(e,a,this))}},{key:"_draw",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.width,i=t.height,a=this.model.border||{};this.model.isEmpty||this._draw_rack_cell(e),e.beginPath(),e.lineWidth=0,e.rect(n,r,o,i);var s=this.parent,c=s.components.indexOf(this),u=s.columns||1,l=s.rows||1;this._drawBorder(e,n,r,n+o,r,a.top),this._drawBorder(e,n,r+i,n,r,a.left),function(e,t,n){return(e+1)%n==0}(c,0,u)&&this._drawBorder(e,n+o,r,n+o,r+i,a.right),function(e,t,n){return e>=(t-1)*n}(c,l,u)&&this._drawBorder(e,n+o,r+i,n,r+i,a.bottom)}},{key:"_post_draw",value:function(e){var n=this.bounds;n.left,n.top,n.width,n.height,To(Ro(t.prototype),"_post_draw",this).call(this,e),this._focused&&this._draw_location_info(e)}},{key:"_draw_rack_cell",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.width,i=t.height;e.save(),e.fillStyle="#efefef",e.fillRect(n,r,o,i),e.beginPath(),e.lineWidth=1,e.strokeStyle="#ccc",e.moveTo(n,r),e.lineTo(n+o,r+i),e.moveTo(n+o,r),e.lineTo(n,r+i),e.stroke(),e.closePath(),e.restore()}},{key:"_draw_location_info",value:function(e){var t=this.parent.model,n=t.locPattern,r=t.zone;n=n.substring(0,n.indexOf("{u}")+3);var o="";if(this.get("section")&&this.get("unit")&&(o=n.replace("{z}",r).replace("{s}",this.get("section")).replace("{u}",this.get("unit"))),o){var i=this.bounds,a=i.left,s=i.top;a=Math.max(a,0),s-=18,e.font="12px Arial";var c=e.measureText(o);e.fillStyle="#FF0000",e.fillRect(a,s,c.width+6,16),e.fillStyle="white",e.fillText(o,a+3,s+13)}}},{key:"onchange",value:function(e,t){(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o in n)if(e.hasOwnProperty(n[o]))return!0})(e,"isEmpty")&&(delete this.model.unit,delete this.model.section)}},{key:"onmouseenter",value:function(){this._focused=!0,this.invalidate()}},{key:"onmouseleave",value:function(){this._focused=!1,this.invalidate()}},{key:"contains",value:function(e,n){var r=To(Ro(t.prototype),"contains",this).call(this,e,n);return r||(this._focused=!1,this.invalidate()),r}},{key:"hasTextProperty",get:function(){return!1}},{key:"nature",get:function(){return zo}},{key:"merged",set:function(e){this.set("merged",!!e),e&&this.set("text","")},get:function(){return this.get("merged")}},{key:"rowspan",set:function(e){this.set("rowspan",e)},get:function(){return this.get("rowspan")}},{key:"colspan",set:function(e){this.set("colspan",e)},get:function(){return this.get("colspan")}},{key:"border",get:function(){this.model.border}},{key:"isEmpty",get:function(){return this.get("isEmpty")}},{key:"index",get:function(){var e=this.parent,t=e.components.indexOf(this);return{row:Math.floor(t/e.columns),column:t%e.columns}}},{key:"rowIndex",get:function(){return this.index.row}},{key:"columnIndex",get:function(){return this.index.column}},{key:"leftCell",get:function(){var e=this.parent,t=(e.components.indexOf(this),this.rowIndex),n=this.columnIndex;return 0===n?null:e.components[t*e.columns+n-1]}},{key:"rightCell",get:function(){var e=this.parent,t=(e.components.indexOf(this),this.rowIndex),n=this.columnIndex;return n===e.columns?null:e.components[t*e.columns+n+1]}},{key:"aboveCell",get:function(){var e=this.parent,t=(e.components.indexOf(this),this.rowIndex),n=this.columnIndex;return 0===t?null:e.components[(t-1)*e.columns+n]}},{key:"belowCell",get:function(){var e=this.parent,t=(e.components.indexOf(this),this.rowIndex),n=this.columnIndex;return t===e.rows?null:e.components[(t+1)*e.columns+n]}},{key:"rowCells",get:function(){return this.parent.getCellsByRow(this.rowIndex)}},{key:"columnCells",get:function(){return this.parent.getCellsByColumn(this.columnIndex)}},{key:"aboveRowCells",get:function(){for(var e=this.aboveCell;;){var t=e.notEmptyRowCells;if(t.length>0)return t;e=e.aboveCell}}},{key:"lastUnit",get:function(){for(var e=this.aboveRowCells,t=e.length-1;t>0;t--){var n=e[t].get("unit");if(n)return Number(n)}return 0}},{key:"firstUnit",get:function(){for(var e=this.aboveRowCells,t=0;t<e.length;t++){var n=e[t].get("unit");if(n)return Number(n)}return 0}},{key:"notEmptyRowCells",get:function(){return this.rowCells.filter((function(e){return!e.get("isEmpty")}))}},{key:"emptyRowCells",get:function(){return this.rowCells.filter((function(e){return e.get("isEmpty")}))}},{key:"isAisle",get:function(){return 0===this.notEmptyRowCells.length}}])&&_o(n.prototype,o),i&&_o(n,i),t}(Object(r.RectPath)(r.Component));function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}["border"].forEach((function(e){return r.Component.memoize(Co.prototype,e,!1)})),r.Component.register("rack-table-cell",Co);var Fo=function(e){function t(){return Io(this,t),Zo(this,Go(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(t,e),n=t,(r=[{key:"shape",get:function(){var e=this.model,t=e.width,n=e.height,r=e.round,i=new o.Shape;if(r>0){var a=r/100*(t/2);i.moveTo(a,0),i.lineTo(t-a,0),i.quadraticCurveTo(t,0,t,a),i.lineTo(t,n-a),i.quadraticCurveTo(t,n,t-a,n),i.lineTo(a,n),i.quadraticCurveTo(0,n,0,n-a),i.lineTo(0,a),i.quadraticCurveTo(0,0,a,0)}else i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,n),i.lineTo(0,n),i.lineTo(0,0);return i}}])&&Do(n.prototype,r),i&&Do(n,i),t}(Rt);s.register("rect",Fo);var Uo=n(13),Wo=n.n(Uo);function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t,n){return t&&Yo(e.prototype,t),n&&Yo(e,n),e}function Jo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ko=C.a.resolve("../obj/RollerConveyor"),$o={mutable:!1,resizable:!0,rotatable:!0,properties:[]},ei=function(e){function t(){return Vo(this,t),Jo(this,Ho(t).apply(this,arguments))}return Xo(t,e),Qo(t,[{key:"createObject",value:function(){this.model.stockType;t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;t.rotation;this.type="roller-conveyor";var a=e.clone();a.rotation.z=-Math.PI/2;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}}],[{key:"getRollerConveyorObject",value:function(e){}},{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(Ko,"/")),n.load("Roller_Conveyor2.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(p),ti=function(e){function t(){return Vo(this,t),Jo(this,Ho(t).apply(this,arguments))}return Xo(t,e),Qo(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return $o}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=Wo.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t,n){return t&&oi(e.prototype,t),n&&oi(e,n),e}function ai(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("roller-conveyor",ti),s.register("roller-conveyor",ei);var li={mutable:!1,resizable:!0,rotatable:!0,properties:[]},hi=function(e){function t(){return ri(this,t),ai(this,si(t).apply(this,arguments))}return ci(t,e),ii(t,[{key:"createObject",value:function(){var e=this.model.rx,t=void 0===e?0:e;this.createSphere(t)}},{key:"createSphere",value:function(e){var t=this.model.fillStyle,n=void 0===t?"lightgray":t;this.geometry=new o.SphereBufferGeometry(e,20,20),this.material=new o.MeshLambertMaterial({color:n,side:o.FrontSide})}},{key:"cx",get:function(){if(!this._cx){var e=this.model.cx,t=void 0===e?0:e,n=this._canvasSize;this._cx=t-n.width/2}return this._cx}},{key:"cy",get:function(){if(!this._cy){var e=this.model.cy,t=void 0===e?0:e,n=this._canvasSize;this._cy=t-n.height/2}return this._cy}},{key:"cz",get:function(){if(!this._cz){var e=this.model,t=e.zPos,n=void 0===t?0:t,r=e.rx,o=void 0===r?0:r;this._cz=n+o}return this._cz}},{key:"model",get:function(){return this._model}}]),t}(Re),fi=function(e){function t(){return ri(this,t),ai(this,si(t).apply(this,arguments))}return ci(t,e),ii(t,[{key:"is3dish",value:function(){return!0}},{key:"controls",get:function(){}},{key:"nature",get:function(){return li}}]),t}(r.Ellipse);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e,t,n){return(bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("sphere",fi),s.register("sphere",hi);var wi=function(e){function t(){return pi(this,t),mi(this,vi(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,e),n=t,(r=[{key:"createObject",value:function(){var e=this.model,t=e.width,n=e.height,r=e.fontSize,i=void 0===r?10:r,a=e.text,s=void 0===a?"":a,c=e.bold,u=void 0!==c&&c,l=e.italic,h=void 0!==l&&l,f=e.fontFamily,d=void 0===f?"serif":f,p=e.lineHeight,y=void 0===p?1.2*i:p,m=e.fontColor,b=void 0===m?0:m;if(s){var v=this._getTextBounds({fontSize:i,text:s,font:d,bold:u,italic:h,lineHeight:y});t=this.model.width=v.width,n=this.model.height=v.height,delete this._cx,delete this._cy,delete this._cz;var g=this._createOffcanvas(t,n);this._drawTextTexture(g,{fontColor:b,fontSize:i,font:d,text:s,lineHeight:y,bold:u,italic:h});var w=new o.BoxBufferGeometry,k=new o.CanvasTexture(g);k.needsUpdate=!0;var O=new o.MeshBasicMaterial({map:k,transparent:!0,alphaTest:.5}),A=new o.Mesh(w,O);this.add(A),A.rotation.x=-Math.PI/2,A.scale.set(t,n,1)}}},{key:"_drawTextTexture",value:function(e,t){var n=t.fontColor,r=t.fontSize,o=t.font,i=t.text,a=void 0===i?"":i,s=t.lineHeight,c=t.bold,u=void 0!==c&&c,l=t.italic,h=void 0!==l&&l,f=e.getContext("2d");f.clearRect(0,0,e.width,e.height),f.fillStyle=n,f.font="".concat(u?"bold":""," ").concat(h?"italic":""," ").concat(r,"px ").concat(o),f.textBaseline="top",f.strokeStyle=n,a.split("\n").forEach((function(e,t){f.fillText(e,0,Number(t)*s),f.strokeText(e,0,Number(t)*s)}))}},{key:"_createOffcanvas",value:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},{key:"_getTextBounds",value:function(e){var t=e.fontSize,n=void 0===t?10:t,r=e.text,o=void 0===r?"":r,i=e.font,a=void 0===i?"arial":i,s=e.bold,c=void 0!==s&&s,u=e.italic,l=void 0!==u&&u,h=e.lineHeight,f=void 0===h?1.2*n:h,d=document.createElement("span");d.style.font="".concat(c?"bold ":"").concat(l?"italic ":"").concat(n,"px ").concat(a),d.style.lineHeight="".concat(f,"px"),d.style.whiteSpace="pre",d.style.position="absolute",d.textContent=o,document.body.appendChild(d);var p=d.getBoundingClientRect();return document.body.removeChild(d),{width:p.width,height:p.height}}},{key:"raycast",value:function(e,t){}},{key:"onUserDataChanged",value:function(){if(bi(vi(t.prototype),"onUserDataChanged",this).call(this),this.userData&&this.userData.items&&this.userData.items.length>0){var e=this.userData.items[0].data;this.model.text=e,this.changeText()}}}])&&yi(n.prototype,r),i&&yi(n,i),t}(p);s.register("text",wi);var ki=function(e,t){var n,r,i,a,s;this.object=e,this.component=t,this.enabled=!0,this.target=new o.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=this.component.model.autoRotate||!1,this.autoRotateSpeed=this.component.model.rotationSpeed||2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:o.MOUSE.LEFT,ZOOM:o.MOUSE.MIDDLE,PAN:o.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.cameraChanged=!1,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.update(),l=u.NONE},this.update=(n=new o.Vector3,r=(new o.Quaternion).setFromUnitVectors(e.up,new o.Vector3(0,1,0)),i=r.clone().inverse(),a=new o.Vector3,s=new o.Quaternion,function(){var e=c.object.position;return n.copy(e).sub(c.target),n.applyQuaternion(r),f.setFromVector3(n),c.autoRotate&&l===u.NONE&&E(function(){if(!S)return S=performance.now(),M=f.theta,0;var e=(performance.now()-S)/(6e4/c.autoRotateSpeed);return 2*Math.PI*e+f.theta-M}()),f.theta+=d.theta,f.phi+=d.phi,f.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,f.theta)),f.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=p,f.radius=Math.max(c.minDistance,Math.min(c.maxDistance,f.radius)),c.target.add(y),n.setFromSpherical(f),n.applyQuaternion(i),e.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(d.theta*=1-c.dampingFactor,d.phi*=1-c.dampingFactor):d.set(0,0,0),p=1,y.set(0,0,0),m||a.distanceToSquared(c.object.position)>h||8*(1-s.dot(c.object.quaternion))>h?(a.copy(c.object.position),s.copy(c.object.quaternion),c.component.invalidate(),c.cameraChanged=!1,m=!1,!0):(c.component.invalidate(),!1)}),this.dispose=function(){},this.onMouseDown=function(e){},this.onMouseMove=function(e){},this.onMouseUp=function(e){},this.onDragStart=function(e){if(!1!==this.enabled&&!1!==this.enableRotate)switch(c.component.stop(),this.autoRotate=!1,l=!0===e.altKey?u.PAN:u.ROTATE){case u.ROTATE:this.enableRotate&&function(e){b.set(e.offsetX,e.offsetY)}(e);break;case u.DOLLY:this.enableZoom&&function(e){A.set(e.offsetX,e.offsetY)}(e);break;case u.PAN:this.enablePan&&function(e){w.set(e.offsetX,e.offsetY)}(e)}},this.onDragMove=function(e){if(this.enabled)switch(l=!0===e.altKey?u.PAN:u.ROTATE){case u.ROTATE:this.enableRotate&&function(e){v.set(e.offsetX,e.offsetY),g.subVectors(v,b);var t=c.component;E(2*Math.PI*g.x/t.get("width")*c.rotateSpeed),T(2*Math.PI*g.y/t.get("height")*c.rotateSpeed),b.copy(v),c.update()}(e);break;case u.DOLLY:this.enableZoom&&function(e){j.set(e.offsetX,e.offsetY),x.subVectors(j,A),x.y>0?N(_()):x.y<0&&I(_());A.copy(j),c.update()}(e);break;case u.PAN:this.enablePan&&function(e){k.set(e.offsetX,e.offsetY),O.subVectors(k,w),C(O.x,O.y),w.copy(k),c.update()}(e)}},this.onDragEnd=function(e){!1!==this.enabled&&!1!==this.enableRotate&&(l=u.NONE,S=null,this.autoRotate=this.component.model.autoRotate||!1,c.component.threed_animate())},this.onKeyDown=function(e){!1!==this.enabled&&!1!==this.enableKeys&&!1!==this.enablePan&&function(e){switch(e.keyCode){case c.keys.UP:C(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:C(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:C(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:C(-c.keyPanSpeed,0),c.update()}}(e)},this.onTouchStart=function(e){if(!1!==this.enabled)switch(e.touches.length){case 1:if(!1===this.enableRotate)return;!function(e){var t=e.touches[0].offsetX||e.touches[0].pageX,n=e.touches[0].offsetY||e.touches[0].pageY;b.set(t,n)}(e),l=u.TOUCH_ROTATE;break;case 2:if(this.lastScale=e.scale,!1===this.enablePan)return;!function(e){var t=e.touches[0].offsetX||e.touches[0].pageX,n=e.touches[0].offsetY||e.touches[0].pageY;w.set(t,n)}(e),l=u.TOUCH_PAN;break;default:l=u.NONE}},this.onTouchMove=function(e){if(!1!==this.enabled)switch(e.touches.length){case 1:if(!1===this.enableRotate)return;if(l!==u.TOUCH_ROTATE)return;!function(e){var t=e.touches[0].offsetX||e.touches[0].pageX,n=e.touches[0].offsetY||e.touches[0].pageY;v.set(t,n),g.subVectors(v,b);var r=c.component===document?c.component.body:c.component;E(2*Math.PI*g.x/r.model.width*c.rotateSpeed),T(2*Math.PI*g.y/r.model.height*c.rotateSpeed),b.copy(v),c.update()}(e);break;case 2:if(Math.abs(this.lastScale-e.scale)>.05)return void console.log(e.scale);if(!1===this.enablePan)return;if(l!==u.TOUCH_PAN)return;!function(e){var t=e.touches[0].offsetX||e.touches[0].pageX,n=e.touches[0].offsetY||e.touches[0].pageY;k.set(t,n),O.subVectors(k,w),C(O.x,O.y),w.copy(k),c.update()}(e);break;default:l=u.NONE}},this.onTouchEnd=function(e){!1!==this.enabled&&(this.lastScale=1,l=u.NONE)},this.doAutoRotate=function(e){S=null,this.cameraChanged=!0,this.autoRotate=e,this.update()};var c=this,u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},l=u.NONE,h=1e-6,f=new o.Spherical,d=new o.Spherical,p=1,y=new o.Vector3,m=!1,b=new o.Vector2,v=new o.Vector2,g=new o.Vector2,w=new o.Vector2,k=new o.Vector2,O=new o.Vector2,A=new o.Vector2,j=new o.Vector2,x=new o.Vector2,S=null,M=0;function _(){return Math.pow(.95,c.zoomSpeed)}function E(e){d.theta-=e}function T(e){d.phi-=e}var R,P=(R=new o.Vector3,function(e,t){R.setFromMatrixColumn(t,0),R.multiplyScalar(-e),y.add(R)}),z=function(){var e=new o.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),y.add(e)}}(),C=function(){var e=new o.Vector3;return function(t,n){var r=c.component===document?c.component.body:c.component;if(c.object.isPerspectiveCamera){var o=c.object.position;e.copy(o).sub(c.target);var i=e.length();i*=Math.tan(c.object.fov/2*Math.PI/180),P(2*t*i/r.model.height,c.object.matrix),z(2*n*i/r.model.height,c.object.matrix)}else c.object.isOrthographicCamera?(P(t*(c.object.right-c.object.left)/c.object.zoom/r.model.width,c.object.matrix),z(n*(c.object.top-c.object.bottom)/c.object.zoom/r.model.height,c.object.matrix)):(console.warn("WARNING: ThreeControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function N(e){c.object.isPerspectiveCamera?p/=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: ThreeControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function I(e){c.object.isPerspectiveCamera?p*=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: ThreeControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}this.update()};(ki.prototype={}).constructor=ki,Object.defineProperties(ki.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var Oi=ki;function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e,t,n){return(Mi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ti={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"fov",name:"fov",property:"fov"},{type:"number",label:"near",name:"near",property:"near"},{type:"number",label:"far",name:"far",property:"far"},{type:"number",label:"zoom",name:"zoom",property:"zoom"},{type:"select",label:"precision",name:"precision",property:{options:[{display:"High",value:"highp"},{display:"Medium",value:"mediump"},{display:"Low",value:"lowp"}]}},{type:"checkbox",label:"anti-alias",name:"antialias",property:"antialias"},{type:"checkbox",label:"auto-rotate",name:"autoRotate",property:"autoRotate"},{type:"checkbox",label:"show-axis",name:"showAxis",property:"showAxis"},{type:"checkbox",label:"3dmode",name:"threed",property:"threed"}]};var Ri=function(e){function t(){return ji(this,t),Si(this,_i(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(t,e),n=t,(i=[{key:"containable",value:function(e){return e.is3dish()}},{key:"putObject",value:function(e,t){this._objects||(this._objects={}),this._objects[e]=t}},{key:"getObject",value:function(e){return this._objects||(this._objects={}),this._objects[e]}},{key:"added",value:function(){this.app.isViewMode&&(o||r.ScriptLoader.load(three).then((function(){o.Cache.enabled=!0}),r.error))}},{key:"createFloor",value:function(e,t,n){var r,i=this,a=this.model.fillStyle;if("pattern"==a.type&&a.image){var s=this._textureLoader.load(this.app.url(a.image),(function(e){e.minFilter=o.LinearFilter,e.repeat.set(1,1),i.render_threed()}));r=new o.MeshBasicMaterial({map:s,side:o.DoubleSide})}else r=new o.MeshBasicMaterial({color:e,side:o.FrontSide});var c=new o.BoxBufferGeometry(1,1,1),u=new o.Mesh(c,r);u.scale.set(t,n,5),u.rotation.x=-Math.PI/2,u.position.y=-2,u.name="floor",this._scene3d.add(u)}},{key:"createObjects",value:function(e,t){var n=this;e.forEach((function(e){var r=s.register(e.model.type);if(r){var o=new r(e.hierarchy,t,n,e);o&&(o.name=e.model.id,n._scene3d.add(o),n.putObject(e.model.id,o))}else console.warn("Class not found : 3d ".concat(e.model.type," class is not exist"))}))}},{key:"createHeatmap",value:function(e,t){if(!1!==this._model.useHeatmap){document.createElement("div"),this._heatmap={};var n=new o.MeshBasicMaterial({side:o.FrontSide,transparent:!0,visible:!1}),r=new o.PlaneGeometry(e,t),i=new o.Mesh(r,n);i.rotation.x=-Math.PI/2,i.position.y=-1,i.name="heatmap",this._scene3d.add(i)}}},{key:"navigatePath",value:function(e){for(var t in e){var n=e[t],r=this.findTarget(n);this.emphasizeTarget(r);var o=r.parent;o.geometry.computeBoundingBox();var i=o.geometry.boundingBox,a=this.createMarker(Number(t)+1);a.position.set(0,100,0),a.position.set(0,i.max.y+25,0),a.name=n+"-marker",o.add(a)}this.render_threed()}},{key:"findTarget",value:function(e){var t=this._scene3d.getObjectByName(e,!0);if(t)return t}},{key:"emphasizeTarget",value:function(e){this._scene3d.updateMatrixWorld();var t=new o.Mesh(e.geometry.clone(),e.material.clone());t.name=e.name+"-emp",t.material.color.set(4499190),t.raycast=function(){},t.position.copy(e.getWorldPosition()),this._scene3d.add(t)}},{key:"findPath",value:function(e){var t=this._scene3d.getObjectByName(e,!0);if(t){t=t.parent,this._scene3d.updateMatrixWorld();var n=t.getWorldPosition(),r=(t.getWorldScale(),new o.BoxHelper(t,16724787));return r.material.linewidth=.1*this.model.zoom,this._scene3d.add(r),{x:n.x,y:n.y,z:n.z}}}},{key:"drawPath",value:function(e,t){var n=t.x,r=(t.y,t.z),i=e.x,a=(e.y,e.z),s=new o.LineBasicMaterial({color:16724787,linewidth:5}),c=new o.Geometry;c.vertices.push(new o.Vector3(i,0,a)),c.vertices.push(new o.Vector3(n,0,r));var u=new o.Line(c,s);return this._scene3d.add(u),t}},{key:"updateHeatmapTexture",value:function(){var e=this._scene3d.getObjectByName("heatmap",!0),t=new o.Texture(this._heatmap._renderer.canvas);t.needsUpdate=!0,e.material.map=t,e.material.visible=!0}},{key:"createMarker",value:function(e){var t=new Image;t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAABuCAYAAAAKwhwQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MkZDRjQ0RjVDOTYxMUU2QjMxRjhENEQwQjZBMjk5OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3MkZDRjQ1MDVDOTYxMUU2QjMxRjhENEQwQjZBMjk5OSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjcyRkNGNDRENUM5NjExRTZCMzFGOEQ0RDBCNkEyOTk5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjcyRkNGNDRFNUM5NjExRTZCMzFGOEQ0RDBCNkEyOTk5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+nKWOowAAIaRJREFU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";var n=document.createElement("canvas"),r=n.getContext("2d");n.width=t.width,n.height=t.height,r.font="32px Arial",r.textBaseline="alphabetic",r.textAlign="left";var i=n.width/2,a=n.height/2,s=r.measureText(String(e)).width,c=s/2;r.drawImage(t,i-.5*t.width,a-.5*t.height,t.width,t.height),r.fillStyle="rgba(255,255,255,1)";var u=a-16+10;r.fillText(e,i-c,u);var l=new o.Texture(n);l.needsUpdate=!0;var h=new o.SpriteMaterial({map:l}),f=new o.Sprite(h);return f.scale.set(Math.floor(.5*t.width),Math.floor(.5*t.height),1),f.raycast=function(){},f}},{key:"makeTextSprite",value:function(e,t){if(e){void 0===t&&(t={});var n=t.hasOwnProperty("fontFace")?t.fontFace:"Arial",r=t.hasOwnProperty("fontSize")?t.fontSize:32,i=t.hasOwnProperty("textColor")?t.textColor:"rgba(255,255,255,1)",a=t.hasOwnProperty("borderWidth")?t.borderWidth:2,s=t.hasOwnProperty("borderColor")?t.borderColor:"rgba(0, 0, 0, 1.0)",c=t.hasOwnProperty("backgroundColor")?t.backgroundColor:"rgba(0, 0, 0, 0.7)",u=t.hasOwnProperty("radius")?t.radius:30,l=(t.hasOwnProperty("vAlign")&&t.vAlign,t.hasOwnProperty("hAlign")?t.hAlign:"center"),h=document.createElement("canvas"),f=h.getContext("2d");h.width=window.innerWidth,h.height=window.innerHeight,f.font=r+"px "+n,f.textBaseline="alphabetic",f.textAlign="left";var d=0,p=String(e).trim().split("\n"),y=h.width/2,m=h.height/2;for(var b in p){var v=f.measureText(p[b]);d<v.width&&(d=v.width)}var g=d/2;"left"==l?g=d:"right"==l&&(g=0),this.roundRect(f,y-g,m-r*p.length*.5,d,r*p.length,u,a,s,c,5),f.fillStyle=i,f.lineWidth=3;var w=m-r*p.length*.5-5-a;for(var k in p)k=Number(k),w+=r,f.fillText(p[k],y-g,w);var O=new o.Texture(h);O.needsUpdate=!0;var A=new o.SpriteMaterial({map:O}),j=new o.Sprite(A);return j.scale.set(600,300,1),j.raycast=function(){},j}}},{key:"destroy_scene3d",value:function(){if(this.stop(),this._renderer&&this._renderer.clear(),delete this._renderer,delete this._camera,delete this._2dCamera,delete this._keyboard,delete this._controls,delete this._projector,delete this._load_manager,delete this._objects,this._scene3d){var e=this._scene3d.children.slice();for(var t in e){var n=e[t];n.dispose&&n.dispose(),n.geometry&&n.geometry.dispose&&n.geometry.dispose(),n.material&&n.material.dispose&&n.material.dispose(),n.texture&&n.texture.dispose&&n.texture.dispose(),this._scene3d.remove(n)}}if(delete this._scene3d,this._scene2d){var r=this._scene2d.children.slice();for(var o in r){var i=r[o];i.dispose&&i.dispose(),i.geometry&&i.geometry.dispose&&i.geometry.dispose(),i.material&&i.material.dispose&&i.material.dispose(),i.texture&&i.texture.dispose&&i.texture.dispose(),this._scene2d.remove(i)}}delete this._scene2d}},{key:"init_scene3d",value:function(){this.root.on("redraw",this.onredraw,this),this._scene3d&&this.destroy_scene3d(),function e(){e.done||(e.done=!0)}(),this._textureLoader=new o.TextureLoader,this._textureLoader.withCredential=!0,this._textureLoader.crossOrigin="use-credentials";var e=this.bounds,t=e.width,n=e.height,r=this.model,i=r.fov,a=void 0===i?45:i,s=r.near,c=void 0===s?.1:s,u=r.far,l=void 0===u?2e4:u,h=r.fillStyle,f=void 0===h?"#424b57":h,d=r.light,p=void 0===d?16777215:d,y=r.antialias,m=void 0===y||y,b=r.precision,v=void 0===b?"highp":b,g=this.components||[];this._scene3d=new o.Scene,this._scene2d=new o.Scene;var w=t/n;if(this._camera=new o.PerspectiveCamera(a,w,c,l),this._2dCamera=new o.OrthographicCamera(-t/2,t/2,n/2,-n/2,1,1e3),this._scene3d.add(this._camera),this._scene2d.add(this._2dCamera),this._camera.position.set(.8*n,Math.floor(Math.min(t,n)),.8*t),this._2dCamera.position.set(.8*n,Math.floor(Math.min(t,n)),.8*t),this._camera.lookAt(this._scene3d.position),this._2dCamera.lookAt(this._scene2d.position),this._camera.zoom=.01*this.model.zoom,this.model.showAxis){var k=new o.AxesHelper(t);this._scene3d.add(k)}try{this._renderer=new o.WebGLRenderer({precision:v,alpha:!0,antialias:m})}catch(e){this._noSupportWebgl=!0}if(!this._noSupportWebgl){this._renderer.autoClear=!1,this._renderer.setClearColor(16777215,0),this._renderer.setSize(Math.min(t,window.innerWidth),Math.min(n,window.innerHeight)),this._controls=new Oi(this._camera,this),this._controls.cameraChanged=!0;var O=new o.HemisphereLight(p,0,1);O.position.set(-this._camera.position.x,this._camera.position.y,-this._camera.position.z),this._camera.add(O),this._raycaster=new o.Raycaster,this._mouse=new o.Vector2,this._tick=0,this._clock=new o.Clock(!0),this.mixers=new Array,this.createHeatmap(t,n),this.createFloor(f,t,n),this.createObjects(g,{width:t,height:n}),this._camera.updateProjectionMatrix(),this._onFocus=function(){this.render_threed()}.bind(this),window.addEventListener("focus",this._onFocus),this.invalidate()}}},{key:"threed_animate",value:function(){this._controls&&(this._controls.update(),this.render_threed())}},{key:"stop",value:function(){}},{key:"update",value:function(){this._controls.update(),this.render_threed()}},{key:"render_threed",value:function(){var e;this._clock&&(e=this._clock.getDelta());var t=this.mixers;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r&&r.update(e)}this._renderer&&(this._renderer.clear(),this._renderer.render(this._scene3d,this._camera)),this._renderer&&this._scene2d&&this._renderer.render(this._scene2d,this._2dCamera),this.invalidate()}},{key:"render",value:function(e){this.app.isViewMode&&(this.model.threed||(this.model.threed=!0)),this.model.threed&&!this._noSupportWebgl||Mi(_i(t.prototype),"render",this).call(this,e)}},{key:"postrender",value:function(e){var n=this.model,o=n.left,i=n.top,a=n.debug,s=n.threed,c=this.bounds,u=c.width,l=c.height;if(u=Math.floor(u),l=Math.floor(l),s){if(this._scene3d||(this.init_scene3d(),this.render_threed()),this._noSupportWebgl)return void this._showWebglNoSupportText(e);if(this._dataChanged&&this._onDataChanged(),!1===this._loadComplete)return;if(!this._renderer)return;var h=this._renderer.getSize(),f=h.width,d=h.height;this.showTooltip(this._selectedPickingLocation),e.drawImage(this._renderer.domElement,0,0,f,d,o,i,u,l),a&&(e.font="100px Arial",e.textAlign="center",e.fillStyle="black",e.globalAlpha=.5,e.fillText(Object(r.FPS)(),100,100),this.invalidate())}else Mi(_i(t.prototype),"postrender",this).call(this,e)}},{key:"dispose",value:function(){this.root.off("redraw",this.onredraw,this),this.destroy_scene3d(),Mi(_i(t.prototype),"dispose",this).call(this),this.destroy_scene3d()}},{key:"roundRect",value:function(e,t,n,r,o,i,a,s,c,u,l){if(null!=c||null!=s){var h=t-a-i-u,f=h+r+2*a+2*i+2*u,d=n-a-i-u,p=d+o+2*a+2*i+2*u;e.beginPath(),e.moveTo(h+i,d),e.lineTo(f-i,d),e.quadraticCurveTo(f,d,f,d+i),e.lineTo(f,p-i),e.quadraticCurveTo(f,p,f-i,p),e.lineTo(h+i,p),e.quadraticCurveTo(h,p,h,p-i),e.lineTo(h,d+i),e.quadraticCurveTo(h,d,h+i,d),e.closePath(),e.lineWidth=a,null!=c&&(e.fillStyle=c,e.fill()),a>0&&null!=s&&(e.strokeStyle=s,e.stroke())}}},{key:"getObjectByRaycast",value:function(){var e,t=this.getObjectsByRaycast();return t.length>0&&(e=t[0].object),e}},{key:"getObjectsByRaycast",value:function(){var e=this._mouse;if(this._camera)return this._raycaster.setFromCamera(e,this._camera),this._raycaster.intersectObjects(this._scene3d.children,!0)}},{key:"moveCameraTo",value:function(e){if(e){var t=this._scene3d.getObjectByName(e,!0);if(t){var n=t.getWorldPosition();n.y=0;var r=n.distanceTo(new o.Vector3(0,0,0));n.multiplyScalar(1e3/(r||1));var i=this,a=this._camera.position.x-n.x,s=this._camera.position.y-300,c=this._camera.position.z-n.z;this.animate({step:function(e){var t=new o.Vector3;t.x=n.x-a*(e-1),t.y=0,t.z=n.z-c*(e-1);var r=t.distanceTo(new o.Vector3(0,0,0));t.multiplyScalar(1e3/(r||1)),i._camera.position.x=t.x,i._camera.position.y=300-s*(e-1),i._camera.position.z=t.z,i._camera.lookAt(i._scene3d.position)},duration:2e3,delta:"linear"}).start()}}}},{key:"exportModel",value:function(){}},{key:"createTooltipForNavigator",value:function(e){if(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight,n.font="40px Arial",n.textBaseline="alphabetic",n.textAlign="left";var r=0,i=t.width/2,a=t.height/2;n.font=Math.floor(40)+"px Arial";var s=n.measureText("Location");r<s.width&&(r=s.width),n.font="bold 80px Arial",r<(s=n.measureText(e.location)).width&&(r=s.width),n.font="40px Arial",r<(s=n.measureText("- Material : "+e.material)).width&&(r=s.width),r<(s=n.measureText("- QTY : "+e.qty)).width&&(r=s.width);var c=r/2,u=20,l=a;this.roundRect(n,i-c,a-120,r,320,30,2,"rgba(0, 0, 0, 1.0)","rgba(0, 0, 0, 0.7)",0),n.fillStyle="rgba(255,255,255,1)",n.lineWidth=3,l+=-120+Math.floor(40),n.font=Math.floor(40)+"px Arial",n.fillStyle="rgba(134,199,252,1)",n.fillText("Location",i-c,l),l+=100,n.font="bold 80px Arial",n.fillStyle="rgba(255,255,255,1)",n.fillText(e.location,i-c,l),l+=80,n.font="40px Arial",n.fillStyle="rgba(204,204,204,1)",n.fillText("- Material : "+e.material,i-c,l),l+=40+u,n.fillText("- QTY : "+e.qty,i-c,l);var h=new o.Texture(t);h.needsUpdate=!0;var f=new o.SpriteMaterial({map:h}),d=new o.Sprite(f);return d.scale.set(window.innerWidth/4*3,window.innerWidth/8*3,1),d.raycast=function(){},d}}},{key:"showTooltip",value:function(e){if(e){var t=this._scene2d.getObjectByName("navigator-tooltip");t&&this._scene2d.remove(t);var n=this._scene3d.getObjectByName(e,!0),r=this._scene3d.getObjectByName(e+"-marker",!0);if(n&&r){var o=r.getWorldPosition().clone();o.project(this._camera),o.z=.5;var i={location:n.userData.location,material:n.userData.material,qty:n.userData.qty},a=(t=this.createTooltipForNavigator(i)).getWorldScale().clone(),s=a.x/this.model.width,c=a.y/this.model.height;a.normalize(),a.x=0,a.y=1.5*a.y*c,a.z=0,o.add(a),o.unproject(this._2dCamera),t.position.set(o.x,o.y,o.z),t.name="navigator-tooltip",t.scale.x=t.scale.x*s,t.scale.y=t.scale.y*c,this._scene2d.add(t),this.render_threed()}}}},{key:"transcoord2dTo3d",value:function(e){var t=this.model,n=t.width,r=t.height,o=e.x,i=void 0===o?0:o,a=e.y,s=void 0===a?0:a,c=e.z,u=void 0===c?0:c,l=n/2,h=r/2,f={};return f.x=i-l,f.y=s-h,f.z=u,f}},{key:"_showWebglNoSupportText",value:function(e){e.save();var t=this.model,n=t.width,r=t.height;e.font=n/20+"px Arial",e.textAlign="center",e.fillText("WebGL no support",n/2-n/40,r/2),e.restore()}},{key:"resetMaterials",value:function(){this._stock_materials&&(this._stock_materials.forEach((function(e){e.dispose&&e.dispose()})),delete this._stock_materials)}},{key:"_onDataChanged",value:function(){var e=this;if(this._data)if(this._data instanceof Array)this._data.forEach((function(t){var n=t;setTimeout(function(){var e=n.loc||n.LOC||n.location||n.LOCATION,t=this.getObject(e);t&&(t.userData=n,t.onUserDataChanged())}.bind(e))}));else{var t=function(){var t=n;e._data.hasOwnProperty(t)&&setTimeout(function(){var e=this._data[t],n=this.getObject(t);n&&(n.userData=e,n.onUserDataChanged())}.bind(e))};for(var n in this._data)t()}this._dataChanged=!1,this._pickingLocations&&this._pickingLocations.length>0&&this.navigatePath(this._pickingLocations),this.render_threed()}},{key:"onchange",value:function(e,t){(e.hasOwnProperty("width")||e.hasOwnProperty("height")||e.hasOwnProperty("threed"))&&this.destroy_scene3d(),e.hasOwnProperty("autoRotate")&&this._controls&&this._controls.doAutoRotate(e.autoRotate),(e.hasOwnProperty("fov")||e.hasOwnProperty("near")||e.hasOwnProperty("far")||e.hasOwnProperty("zoom"))&&this._camera&&(this._camera.near=this.model.near,this._camera.far=this.model.far,this._camera.zoom=.01*this.model.zoom,this._camera.fov=this.model.fov,this._camera.updateProjectionMatrix(),this._controls.cameraChanged=!0),e.hasOwnProperty("data")&&this._data!==e.data&&(this._data=e.data,this._dataChanged=!0),this.invalidate()}},{key:"onmousedown",value:function(e){this._controls&&this._controls.onMouseDown(e)}},{key:"onmouseup",value:function(e){if(this._controls){this._lastFocused&&(this._lastFocused._focused=!1);var t=r.Layer.register("model-layer").Popup,n=this.model.popupScene,o=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(o.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(o.y-this.model.top)/this.model.height*2+1;var i=this.getObjectByRaycast();i&&i.onmouseup?(n&&i.onmouseup(e,this,t.show.bind(this,this,n)),i._focused=!0,i._focusedAt=performance.now(),this._lastFocused=i):t.hide(this.root),this.invalidate(),e.stopPropagation()}}},{key:"onmousemove",value:function(e){if(this._controls){var t=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(t.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(t.y-this.model.top)/this.model.height*2+1;var n=this.getObjectByRaycast();if(n&&n.onmousemove)n.onmousemove(e,this);else{if(!this._scene2d)return;this._scene2d.remove(this._scene2d.getObjectByName("tooltip")),this.render_threed()}this._controls.onMouseMove(e),e.stopPropagation()}}},{key:"onmouseleave",value:function(e){if(this._scene2d){var t=this._scene2d.getObjectByName("tooltip");t&&this._scene2d.remove(t)}}},{key:"onwheel",value:function(e){this._controls&&(this.handleMouseWheel(e),e.stopPropagation())}},{key:"ondblclick",value:function(e){this._controls&&(this._controls.reset(),e.stopPropagation())}},{key:"ondragstart",value:function(e){if(this._controls){var t=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(t.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(t.y-this.model.top)/this.model.height*2+1,this._controls.onDragStart(e),e.stopPropagation()}}},{key:"ondragmove",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onDragMove(e),e.stopPropagation())}},{key:"ondragend",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onDragEnd(e),e.stopPropagation())}},{key:"ontouchstart",value:function(e){this._controls&&(this._controls.onTouchStart(e),e.stopPropagation())}},{key:"onpan",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onTouchMove(e),e.stopPropagation())}},{key:"ontouchend",value:function(e){this._controls&&(this._controls.onTouchEnd(e),this.onmouseup(e),e.stopPropagation())}},{key:"onkeydown",value:function(e){this._controls&&(this._controls.onKeyDown(e),e.stopPropagation())}},{key:"onpinch",value:function(e){if(this._controls){var t=this.model.zoom;(t*=e.scale)<100&&(t=100),this.set("zoom",t),e.stopPropagation()}}},{key:"ondoubletap",value:function(){this._controls.reset()}},{key:"handleMouseWheel",value:function(e){var t=this.model.zoom;(t+=.1*-e.deltaY)<100&&(t=100),this.set("zoom",t)}},{key:"onredraw",value:function(){this.threed_animate()}},{key:"scene3d",get:function(){return this._scene3d||this.init_scene3d(),this._scene3d}},{key:"scene2d",get:function(){return this._scene2d}},{key:"layout",get:function(){return r.Layout.get("three")}},{key:"nature",get:function(){return Ti}}])&&xi(n.prototype,i),a&&xi(n,a),t}(r.Container);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("three-container",Ri);var Zi={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"string",label:"src",name:"src",property:"src"},{type:"checkbox",label:"autoplay",name:"autoplay",property:"autoplay"}]},Gi=function(e){function t(){return zi(this,t),Ni(this,Ii(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(t,e),n=t,(r=[{key:"init_scene",value:function(e,t){var n=this.model,r=n.mute,i=n.loop,a=n.autoplay,s=n.src,c=n.fov,u=n.clickAndDrag,l=n.wheelEnabled;this._dragStart={},this._lon=0,this._lat=0,this._clickAndDrag=u,this._isPlaying=!1,this._wheelEnabled=l,this._fov=c||35,this._fovMin=3,this._fovMax=100,this._time=(new Date).getTime(),this._scene=new o.Scene,this._camera=new o.PerspectiveCamera(c,e/t,.1,1e3),this._camera.setFocalLength(c),this._renderer=new o.WebGLRenderer,this._renderer.setSize(e,t),this._renderer.autoClear=!1,this._renderer.setClearColor(3355443,1),this._video=document.createElement("video"),this._video.setAttribute("crossorigin","anonymous"),this._video.loop=i,this._video.muted=r,this._texture=new o.Texture(this._video);var h=this;this._video.addEventListener("ended",(function(){this._isPlaying=!1})),this._video.addEventListener("progress",(function(){var e=null;h._video&&h._video.buffered&&h._video.buffered.length>0&&h._video.buffered.end&&h._video.duration?e=h._video.buffered.end(0)/h._video.duration:h._video&&void 0!==h._video.bytesTotal&&h._video.bytesTotal>0&&void 0!==h._video.bufferedBytes&&(e=h._video.bufferedBytes/h._video.bytesTotal),Math.round(100*e)})),this._video.addEventListener("canplay",(function(){!0===a&&(h.play(),h._videoReady=!0)})),this._video.src=this.app.url(s),this._texture.generateMipmaps=!1,this._texture.minFilter=o.LinearFilter,this._texture.magFilter=o.LinearFilter,this._texture.format=o.RGBFormat,this._mesh=new o.Mesh(new o.SphereBufferGeometry(500,80,50),new o.MeshBasicMaterial({map:this._texture})),this._mesh.scale.x=-1,this._scene.add(this._mesh),this.animate()}},{key:"destroy_scene",value:function(){cancelAnimationFrame(this._requestAnimationId),this._requestAnimationId=void 0,this._texture.dispose(),this._scene.remove(this._mesh),this.unloadVideo(),this._renderer=void 0,this._camera=void 0,this._keyboard=void 0,this._controls=void 0,this._projector=void 0,this._load_manager=void 0,this._scene=void 0,this._video=void 0}},{key:"loadVideo",value:function(e){this._video.src=e}},{key:"unloadVideo",value:function(){this.pause(),this._video.src="",this._video.removeAttribute("src")}},{key:"play",value:function(){this._isPlaying=!0,this._video.play()}},{key:"pause",value:function(){this._isPlaying=!1,this._video.pause()}},{key:"resize",value:function(e,t){this._renderer&&(this._renderer.setSize(e,t),this._camera.aspect=e/t,this._camera.updateProjectionMatrix())}},{key:"animate",value:function(){if(this._requestAnimationId=requestAnimationFrame(this.animate.bind(this)),this._video.readyState===this._video.HAVE_ENOUGH_DATA&&void 0!==this._texture){var e=(new Date).getTime();e-this._time>=30&&(this._texture.needsUpdate=!0,this._time=e)}this.render(),this.invalidate()}},{key:"render",value:function(){this._lat=Math.max(-85,Math.min(85,this._lat||0)),this._phi=(90-this._lat)*Math.PI/180,this._theta=(this._lon||0)*Math.PI/180;var e=500*Math.sin(this._phi)*Math.cos(this._theta),t=500*Math.cos(this._phi),n=500*Math.sin(this._phi)*Math.sin(this._theta);this._camera.lookAt(new o.Vector3(e,t,n)),this.model.flatProjection?(this._camera.position.x=0,this._camera.position.y=0,this._camera.position.z=0):(this._camera.position.x=-e,this._camera.position.y=-t,this._camera.position.z=-n),this._renderer.clear(),this._renderer.render(this._scene,this._camera)}},{key:"createControls",value:function(){var e=this.options.muted?"fa-volume-off":"fa-volume-up",t='           <div class="controls">               <a href="#" class="playButton button fa '+(this.options.autoplay?"fa-pause":"fa-play")+'"></a>               <a href="#" class="muteButton button fa '+e+'"></a>               <a href="#" class="fullscreenButton button fa fa-expand"></a>           </div>       ';$(this.element).append(t,!0),this.options.hideControls&&$(this.element).find(".controls").hide()}},{key:"attachControlEvents",value:function(){var e=this;this.element.addEventListener("mousemove",this.onMouseMove.bind(this),!1),this.element.addEventListener("touchmove",this.onMouseMove.bind(this),!1),this.element.addEventListener("mousewheel",this.onMouseWheel.bind(this),!1),this.element.addEventListener("DOMMouseScroll",this.onMouseWheel.bind(this),!1),this.element.addEventListener("mousedown",this.onMouseDown.bind(this),!1),this.element.addEventListener("touchstart",this.onMouseDown.bind(this),!1),this.element.addEventListener("mouseup",this.onMouseUp.bind(this),!1),this.element.addEventListener("touchend",this.onMouseUp.bind(this),!1),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",this.fullscreen.bind(this)),$(window).resize((function(){e.resizeGL($(e.element).width(),$(e.element).height())})),$(this.element).find(".playButton").click((function(t){t.preventDefault(),$(this).hasClass("fa-pause")?($(this).removeClass("fa-pause").addClass("fa-play"),e.pause()):($(this).removeClass("fa-play").addClass("fa-pause"),e.play())})),$(this.element).find(".fullscreenButton").click((function(t){t.preventDefault();var n=$(e.element)[0];$(this).hasClass("fa-expand")?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen():n.requestFullscreen?document.exitFullscreen():n.msRequestFullscreen?document.msExitFullscreen():n.mozRequestFullScreen?document.mozCancelFullScreen():n.webkitRequestFullscreen&&document.webkitExitFullscreen()})),$(this.element).find(".muteButton").click((function(t){t.preventDefault(),$(this).hasClass("fa-volume-off")?($(this).removeClass("fa-volume-off").addClass("fa-volume-up"),e._video.muted=!1):($(this).removeClass("fa-volume-up").addClass("fa-volume-off"),e._video.muted=!0)}))}},{key:"_draw",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.width,i=t.height;t.src,e.beginPath(),e.rect(n,r,o,i)}},{key:"_post_draw",value:function(e){var t=this.model,n=t.left,r=t.top,o=t.width,i=t.height;t.src?(this._scene||(this.init_scene(o,i),this.render()),e.drawImage(this._renderer.domElement,0,0,o,i,n,r,o,i)):this.drawFill(e),this.drawStroke(e)}},{key:"onchange",value:function(e,t){(e.hasOwnProperty("width")||e.hasOwnProperty("height"))&&this.resize(this.model.width,this.model.height),(e.hasOwnProperty("src")||e.hasOwnProperty("autoplay"))&&this.destroy_scene(),this.invalidate()}},{key:"ondblclick",value:function(e){this._isPlaying?this.pause():this.play(),e.stopPropagation()}},{key:"onmousedown",value:function(e){}},{key:"onmousemove",value:function(e){var t,n;!1===this._clickAndDrag&&(this._onPointerDownPointerX=e.offsetX,this._onPointerDownPointerY=-e.offsetY,this._onPointerDownLon=this._lon,this._onPointerDownLat=this._lat,t=e.offsetX-this._renderer.getContext().canvas.offsetLeft,n=e.offsetY-this._renderer.getContext().canvas.offsetTop,this._lon=t/this._renderer.getContext().canvas.width*430-225,this._lat=n/this._renderer.getContext().canvas.height*-180+90)}},{key:"onwheel",value:function(e){!1!==this._wheelEnabled&&(this._fov-=.01*e.deltaY,this._fov<this._fovMin?this._fov=this._fovMin:this._fov>this._fovMax&&(this._fov=this._fovMax),this._camera.setFocalLength(this._fov),this._camera.updateProjectionMatrix(),e.stopPropagation())}},{key:"ondragstart",value:function(e){this._dragStart.x=e.offsetX,this._dragStart.y=e.offsetY}},{key:"ondragmove",value:function(e){var t,n;!1!==this._isPlaying&&(!1!==this._clickAndDrag&&(this._onPointerDownPointerX=e.offsetX,this._onPointerDownPointerY=-e.offsetY,this._onPointerDownLon=this._lon,this._onPointerDownLat=this._lat,t=e.offsetX-this._dragStart.x,n=e.offsetY-this._dragStart.y,this._dragStart.x=e.offsetX,this._dragStart.y=e.offsetY,this._lon+=t,this._lat-=n),e.stopPropagation())}},{key:"ondragend",value:function(e){}},{key:"ontouchstart",value:function(e){}},{key:"ontouchmove",value:function(e){}},{key:"ontouchend",value:function(e){}},{key:"onkeydown",value:function(e){}},{key:"nature",get:function(){return Zi}}])&&Ci(n.prototype,r),i&&Ci(n,i),t}(Object(r.RectPath)(r.Component));r.Component.register("video-player-360",Gi);var Li={reflow:function(e,t){},capturables:function(e){return e.get("threed")?[]:e.components},drawables:function(e){return e.get("threed")?[]:e.components},isStuck:function(e){return!1}};r.Layout.register("three",Li);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return!t||"object"!==Fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vi(e,t,n){return(Vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qi(e,t){return(Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ji={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"fov",name:"fov",property:"fov"},{type:"number",label:"near",name:"near",property:"near"},{type:"number",label:"far",name:"far",property:"far"},{type:"number",label:"zoom",name:"zoom",property:"zoom"},{type:"number",label:"camera-x",name:"cameraX"},{type:"number",label:"camera-y",name:"cameraY"},{type:"number",label:"camera-z",name:"cameraZ"},{type:"number",label:"gamma-factor",name:"gammaFactor",property:{step:.1,min:0}},{type:"select",label:"precision",name:"precision",property:{options:[{display:"High",value:"highp"},{display:"Medium",value:"mediump"},{display:"Low",value:"lowp"}]}},{type:"checkbox",label:"anti-alias",name:"antialias",property:"antialias"},{type:"checkbox",label:"auto-rotate",name:"autoRotate",property:"autoRotate"},{type:"checkbox",label:"show-axis",name:"showAxis",property:"showAxis"},{type:"checkbox",label:"3dmode",name:"threed",property:"threed"},{type:"checkbox",label:"debug",name:"debug",property:"threed"},{type:"string",label:"location-field",name:"locationField"},{type:"board-selector",label:"popup-scene",name:"popupScene"},{type:"id-input",label:"legend-target",name:"legendTarget",property:{component:"legend"}},{type:"number",label:"rotation-speed",name:"rotationSpeed"},{type:"checkbox",label:"hide-empty-stock",name:"hideEmptyStock"}]};var Hi=function(e){function t(){return Ui(this,t),Bi(this,Yi(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qi(e,t)}(t,e),n=t,(i=[{key:"containable",value:function(e){return e.is3dish()}},{key:"putObject",value:function(e,t){this._objects||(this._objects={}),this._objects[e]=t}},{key:"getObject",value:function(e){return this._objects||(this._objects={}),this._objects[e]}},{key:"added",value:function(){this.app.isViewMode&&(o||r.ScriptLoader.load(three).then((function(){o.Cache.enabled=!0}),r.error))}},{key:"createFloor",value:function(e,t,n){var r=this,i=this.model.fillStyle;if("pattern"==i.type&&i.image)var a=this._textureLoader.load(this.app.url(i.image),(function(e){e.minFilter=o.LinearFilter,e.encoding=o.sRGBEncoding,e.repeat.set(1,1),r.render_threed()})),s=[new o.MeshLambertMaterial({color:e}),new o.MeshLambertMaterial({color:e}),new o.MeshLambertMaterial({color:e}),new o.MeshLambertMaterial({color:e}),new o.MeshLambertMaterial({map:a}),new o.MeshLambertMaterial({color:e})];else s=new o.MeshLambertMaterial({color:e});var c=new o.BoxBufferGeometry(1,1,1),u=new o.Mesh(c,s);return u.scale.set(t,n,5),u.rotation.x=-Math.PI/2,u.position.y=-2,u.name="floor",u.receiveShadow=!0,this._scene3d.add(u),u}},{key:"createObjects",value:function(e,t){var n=this;e.forEach((function(e){var r=s.register(e.model.type);if(r){var o=new r(e.hierarchy,t,n,e);o&&(o.name=e.model.id,n._scene3d.add(o),n.putObject(e.model.id,o))}else console.warn("Class not found : 3d ".concat(e.model.type," class is not exist"))}))}},{key:"destroy_scene3d",value:function(){if(this.stop(),window.removeEventListener("focus",this._onFocus),this._renderer&&this._renderer.clear(),delete this._renderer,delete this._camera,delete this._2dCamera,delete this._keyboard,delete this._controls,delete this._projector,delete this._load_manager,delete this._objects,this._scene3d){var e=this._scene3d.children.slice();for(var t in e){var n=e[t];n.dispose&&n.dispose(),n.geometry&&n.geometry.dispose&&n.geometry.dispose(),n.material&&n.material.dispose&&n.material.dispose(),n.texture&&n.texture.dispose&&n.texture.dispose(),this._scene3d.remove(n)}}delete this._scene3d}},{key:"init_scene3d",value:function(){this.trigger("visualizer-initialized",this),this.root.on("redraw",this.onredraw,this),this._scene3d&&this.destroy_scene3d(),function e(){e.done||(o.DefaultLoadingManager.addHandler(/\.tga$/i,new Z),e.done=!0)}(),this._textureLoader=new o.TextureLoader(o.DefaultLoadingManager),this._textureLoader.withCredential=!0,this._textureLoader.crossOrigin="use-credentials";var e=this.bounds,t=e.width,n=e.height,r=this.model,i=r.fov,a=void 0===i?45:i,s=r.near,c=void 0===s?.1:s,u=r.far,l=void 0===u?2e4:u,h=r.fillStyle,f=void 0===h?"#424b57":h,d=(r.light,r.antialias),p=void 0===d||d,y=r.precision,m=void 0===y?"highp":y,b=r.cameraX,v=r.cameraY,g=r.cameraZ,w=r.gammaFactor,k=void 0===w?1:w,O=(r.legendTarget,this.components||[]);this._scene3d=new o.Scene;var A=t/n;this._camera=new o.PerspectiveCamera(a,A,c,l);var j=.8*n,x=.8*t,S=Math.floor(Math.min(t,n));if(null!=b&&(j=b*t),null!=v&&(x=v*n),null!=g&&(S=g*Math.floor(Math.min(t,n))),this._camera.position.set(j,S,x),this._scene3d.add(this._camera),this._camera.lookAt(this._scene3d.position),this._camera.zoom=.01*this.getState("zoom"),this.model.showAxis){var M=new o.AxesHelper(t);this._scene3d.add(M)}try{this._renderer=new o.WebGLRenderer({precision:m,alpha:!0,antialias:p})}catch(e){this._noSupportWebgl=!0}if(!this._noSupportWebgl){this._renderer.autoClear=!0,k&&(this._renderer.outputEncoding=o.GammaEncoding,this._renderer.gammaFactor=k),this._renderer.shadowMap.enabled=!0,this._renderer.setClearColor(16777215,0),this._renderer.setSize(Math.min(t,window.innerWidth),Math.min(n,window.innerHeight)),this._controls=new Oi(this._camera,this),this._controls.cameraChanged=!0;var _=new o.HemisphereLight(16777215,0,1);_.position.set(0,2*this._camera.position.y,0),this.scene3d.add(_),this._raycaster=new o.Raycaster,this._mouse=new o.Vector2,this._tick=0,this._clock=new o.Clock(!0),this.mixers=new Array,this.mixer=new o.AnimationMixer(this.scene3d),this.createFloor(f,t,n),this.createObjects(O,{width:t,height:n}),this._camera.updateProjectionMatrix(),this._onFocus=function(){this.render_threed()}.bind(this),window.addEventListener("focus",this._onFocus),this.invalidate()}}},{key:"threed_animate",value:function(){this._controls&&(this.mixer&&this.mixer.update(this._clock.getDelta()),this._controls.update(),this.render_threed())}},{key:"stop",value:function(){}},{key:"render_threed",value:function(){this._renderer&&this._renderer.render(this._scene3d,this._camera)}},{key:"render",value:function(e){this.app.isViewMode&&(this.model.threed||(this.model.threed=!0)),this.model.threed&&!this._noSupportWebgl||Vi(Yi(t.prototype),"render",this).call(this,e)}},{key:"postrender",value:function(e){var n=this.model,i=n.left,a=n.top,s=n.debug,c=n.threed,u=this.bounds,l=u.width,h=u.height;if(l=Math.floor(l),h=Math.floor(h),c){if(this._scene3d||(this.init_scene3d(),this.render_threed()),this._noSupportWebgl)return void this._showWebglNoSupportText(e);if(this._dataChanged&&this._onDataChanged(),!1===this._loadComplete)return;if(!this._renderer)return;var f=new o.Vector2;this._renderer.getSize(f);var d=f.width,p=f.height;e.drawImage(this._renderer.domElement,0,0,d,p,i,a,l,h),s&&(e.font="100px Arial",e.textAlign="center",e.fillStyle="black",e.globalAlpha=.5,e.fillText(Object(r.FPS)(),100,100),this.invalidate())}else Vi(Yi(t.prototype),"postrender",this).call(this,e)}},{key:"dispose",value:function(){this._legendTarget&&this._legendTarget.off("change",this.onLegendTargetChanged,this),delete this._legendTarget,this.root.off("redraw",this.onredraw,this),this.destroy_scene3d(),Vi(Yi(t.prototype),"dispose",this).call(this)}},{key:"getObjectByRaycast",value:function(){var e,t=this.getObjectsByRaycast();return t.length>0&&(e=t[0].object),e}},{key:"getObjectsByRaycast",value:function(){var e=this._mouse;if(this._camera)return this._raycaster.setFromCamera(e,this._camera),this._raycaster.intersectObjects(this._scene3d.children,!0)}},{key:"exportModel",value:function(){}},{key:"_showWebglNoSupportText",value:function(e){e.save();var t=this.model,n=t.width,r=t.height;e.font=n/20+"px Arial",e.textAlign="center",e.fillText("WebGL no support",n/2-n/40,r/2),e.restore()}},{key:"resetMaterials",value:function(){this._stock_materials&&(this._stock_materials.forEach((function(e){e.dispose&&e.dispose()})),delete this._stock_materials)}},{key:"_onDataChanged",value:function(){var e=this.getState("locationField")||"location";if(this._data){if(this._data instanceof Array)return this._data=this._data.reduce((function(t,n,r,o){var i=JSON.parse(JSON.stringify(n)),a=e;if(i[a]||(a="id"),t[n[a]]){if(!t[n[a]].items){var s=JSON.parse(JSON.stringify(t[n[a]]));t[n[a]]={items:[]},t[n[a]].items.push(s)}}else t[n[a]]={items:[]};return t[n[a]].items.push(i),t}),{}),this._onDataChanged();for(var t in this._data){var n=t;if(this._data.hasOwnProperty(n)){var r=this._data[n],o=this.getObject(n);o&&(o.userData=r,o.onUserDataChanged())}}}this._dataChanged=!1,this.invalidate()}},{key:"onLegendTargetChanged",value:function(e,t){e.hasOwnProperty("status")&&t.hasOwnProperty("status")&&this.resetMaterials()}},{key:"onchange",value:function(e,t){(t.hasOwnProperty("legendTarget")||e.hasOwnProperty("legendTarget"))&&(this._legendTarget&&this._legendTarget.off("change",this.onLegendTargetChanged,this),delete this._legendTarget,this.resetMaterials(),this._onDataChanged()),(e.hasOwnProperty("width")||e.hasOwnProperty("height")||e.hasOwnProperty("threed"))&&this.destroy_scene3d(),e.hasOwnProperty("autoRotate")&&this._controls&&this._controls.doAutoRotate(e.autoRotate),(e.hasOwnProperty("fov")||e.hasOwnProperty("near")||e.hasOwnProperty("far")||e.hasOwnProperty("zoom"))&&this._camera&&(this._camera.near=this.model.near,this._camera.far=this.model.far,this._camera.zoom=.01*this.getState("zoom"),this._camera.fov=this.model.fov,this._camera.updateProjectionMatrix(),this._controls.cameraChanged=!0),e.hasOwnProperty("data")&&this._data!==e.data&&(this._data=e.data,this._dataChanged=!0),this.invalidate()}},{key:"onmousedown",value:function(e){this._controls&&this._controls.onMouseDown(e)}},{key:"onmouseup",value:function(e){var t=this;if(this._controls){this._lastFocused&&(this._lastFocused._focused=!1);var n=r.Layer.register("model-layer").Popup,o=this.model.popupScene,i=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(i.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(i.y-this.model.top)/this.model.height*2+1;var a=this.getObjectByRaycast();a&&a.onmouseup?(o&&a.onmouseup(e,this,(function(e){n.show(t,o,e)})),a._focused=!0,a._focusedAt=performance.now(),this._lastFocused=a):n.hide(this.root),this.invalidate(),e.stopPropagation()}}},{key:"onmousemove",value:function(e){if(this._controls){var t=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(t.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(t.y-this.model.top)/this.model.height*2+1,this._controls.onMouseMove(e),e.stopPropagation()}}},{key:"onmouseleave",value:function(e){if(this._scene2d){var t=this._scene2d.getObjectByName("tooltip");t&&this._scene2d.remove(t)}}},{key:"onwheel",value:function(e){this._controls&&(this.handleMouseWheel(e),e.stopPropagation())}},{key:"ondblclick",value:function(e){this._controls&&(this.setState("zoom",this.model.zoom),this._controls.reset(),e.stopPropagation())}},{key:"ondragstart",value:function(e){if(this._controls){var t=this.transcoordC2S(e.offsetX,e.offsetY);this._mouse.x=(t.x-this.model.left)/this.model.width*2-1,this._mouse.y=-(t.y-this.model.top)/this.model.height*2+1,this._controls.onDragStart(e),e.stopPropagation()}}},{key:"ondragmove",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onDragMove(e),e.stopPropagation())}},{key:"ondragend",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onDragEnd(e),e.stopPropagation())}},{key:"ontouchstart",value:function(e){this._controls&&(this._controls.onTouchStart(e),e.stopPropagation())}},{key:"onpan",value:function(e){this._controls&&(this._controls.cameraChanged=!0,this._controls.onTouchMove(e),e.stopPropagation())}},{key:"ontouchend",value:function(e){this._controls&&(this._controls.onTouchEnd(e),e.stopPropagation())}},{key:"onkeydown",value:function(e){this._controls&&(this._controls.onKeyDown(e),e.stopPropagation())}},{key:"onpinch",value:function(e){if(this._controls){var t=this.getState("zoom");(t*=e.scale)<100&&(t=100),this.setState("zoom",t),e.stopPropagation()}}},{key:"ondoubletap",value:function(){this._controls.reset()}},{key:"handleMouseWheel",value:function(e){var t=this.getState("zoom");(t+=.1*-e.deltaY)<100&&(t=100),this.setState("zoom",t)}},{key:"onredraw",value:function(){this.threed_animate()}},{key:"legendTarget",get:function(){var e=this.model.legendTarget;return!this._legendTarget&&e&&(this._legendTarget=this.root.findById(e),this._legendTarget&&this._legendTarget.on("change",this.onLegendTargetChanged,this)),this._legendTarget}},{key:"scene3d",get:function(){return this._scene3d||this.init_scene3d(),this._scene3d}},{key:"layout",get:function(){return r.Layout.get("three")}},{key:"nature",get:function(){return Ji}}])&&Wi(n.prototype,i),a&&Wi(n,a),t}(r.ContainerAbstract);function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t,n){return t&&Ki(e.prototype,t),n&&Ki(e,n),e}function ea(e,t){return!t||"object"!==Xi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component.register("visualizer",Hi);var oa={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"depth",name:"depth",property:"depth"}]},ia=function(e){function t(){return qi(this,t),ea(this,ta(t).apply(this,arguments))}return na(t,e),$i(t,[{key:"createObject",value:function(){var e=this.model,t=e.type,n=e.width,r=e.height,o=e.depth,i=void 0===o?1:o;this.type=t,this.createWall(n,r,i)}},{key:"createWall",value:function(e,t,n){var r=this.model.fillStyle,i=void 0===r?"gray":r;this.geometry=new o.BoxBufferGeometry(e,n,t),this.material=new o.MeshLambertMaterial({color:i,side:o.FrontSide})}},{key:"raycast",value:function(e,t){}}]),t}(Re),aa=function(e){function t(){return qi(this,t),ea(this,ta(t).apply(this,arguments))}return na(t,e),$i(t,[{key:"is3dish",value:function(){return!0}},{key:"nature",get:function(){return oa}},{key:"controls",get:function(){}}]),t}(r.Rect);r.Component.register("wall",aa),s.register("wall",ia);var sa=n(14),ca=n.n(sa);function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),e}function da(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pa(e,t,n){return(pa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=C.a.resolve("../obj/worker"),ga={mutable:!1,resizable:!0,rotatable:!0,properties:[]},wa=function(e){function t(){return la(this,t),da(this,ya(t).apply(this,arguments))}return ma(t,e),fa(t,[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="worker-1";var a=e.clone(),s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}},{key:"onBeforeRender",value:function(e,n,r,o,i,a){pa(ya(t.prototype),"onBeforeRender",this).call(this,e,n,r,o,i,a),this.lookAt(r.position)}}],[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(va,"/")),n.load("Worker.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(Re),ka=function(e){function t(){return la(this,t),da(this,ya(t).apply(this,arguments))}return ma(t,e),fa(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return ga}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=ca.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("worker-1",ka),s.register("worker-1",wa);var Oa=n(15),Aa=n.n(Oa);function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t&&Sa(e.prototype,t),n&&Sa(e,n),e}function _a(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ea(e,t,n){return(Ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ta(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var za=C.a.resolve("../obj/worker2"),Ca={mutable:!1,resizable:!0,rotatable:!0,properties:[]},Na=function(e){function t(){return xa(this,t),_a(this,Ta(t).apply(this,arguments))}return Ra(t,e),Ma(t,[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="worker-2";var a=e.clone();a.rotation.z=-Math.PI;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}},{key:"onBeforeRender",value:function(e,n,r,o,i,a){Ea(Ta(t.prototype),"onBeforeRender",this).call(this,e,n,r,o,i,a),this.lookAt(r.position)}}],[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(za,"/")),n.load("Worker2.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(Re),Ia=function(e){function t(){return xa(this,t),_a(this,Ta(t).apply(this,arguments))}return Ra(t,e),Ma(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return Ca}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=Aa.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("worker-2",Ia),s.register("worker-2",Na);var Da=n(16),Za=n.n(Da);function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t,n){return t&&Fa(e.prototype,t),n&&Fa(e,n),e}function Wa(e,t){return!t||"object"!==Ga(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ba(e,t,n){return(Ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Va(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ya(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=C.a.resolve("../obj/worker3"),Ha={mutable:!1,resizable:!0,rotatable:!0,properties:[]},Xa=function(e){function t(){return La(this,t),Wa(this,Va(t).apply(this,arguments))}return Ya(t,e),Ua(t,[{key:"createObject",value:function(){t.threedObjectLoader.then(this.addObject.bind(this))}},{key:"addObject",value:function(e){var t=this.model,n=t.width,r=t.height,i=t.depth;this.type="worker-3";var a=e.clone();a.rotation.z=-Math.PI;var s=(new o.Box3).setFromObject(a),c=s.getCenter(a.position),u=s.getSize(new o.Vector3);c.multiplyScalar(-1),a.updateMatrix(),this.add(a),this.scale.set(n/u.x,i/u.y,r/u.z),this.updateMatrix()}},{key:"onBeforeRender",value:function(e,n,r,o,i,a){Ba(Va(t.prototype),"onBeforeRender",this).call(this,e,n,r,o,i,a),this.lookAt(r.position)}}],[{key:"threedObjectLoader",get:function(){return t._threedObjectLoader||(t._threedObjectLoader=new Promise((function(e,t){var n=new L(o.DefaultLoadingManager);n.setPath("".concat(Ja,"/")),n.load("Worker3.dae",(function(t){var n=t.scene;e(n)}))}))),t._threedObjectLoader}}]),t}(Re),qa=function(e){function t(){return La(this,t),Wa(this,Va(t).apply(this,arguments))}return Ya(t,e),Ua(t,[{key:"is3dish",value:function(){return!0}},{key:"render",value:function(e){var n=this.bounds,r=n.left,o=n.top,i=n.width,a=n.height;e.beginPath(),e.drawImage(t.image,r,o,i,a)}},{key:"nature",get:function(){return Ha}}],[{key:"image",get:function(){return t._image||(t._image=new Image,t._image.src=Za.a),t._image}}]),t}(Object(r.RectPath)(r.Shape));r.Component.register("worker-3",qa),s.register("worker-3",Xa),n.d(t,"Banner",(function(){return j})),n.d(t,"Beacon3D",(function(){return P})),n.d(t,"CJTruck",(function(){return q})),n.d(t,"CJTruckSmall",(function(){return fe})),n.d(t,"Component3d",(function(){return s})),n.d(t,"Cone",(function(){return Ae})),n.d(t,"Cube",(function(){return Fe})),n.d(t,"Cylinder",(function(){return Ke})),n.d(t,"Desk",(function(){return ut})),n.d(t,"Door",(function(){return gt})),n.d(t,"EllipseExtrude",(function(){return Zt})),n.d(t,"ForkLift",(function(){return Yt})),n.d(t,"GLTFObject",(function(){return an})),n.d(t,"HumiditySensor",(function(){return gn})),n.d(t,"InspectionDesk",(function(){return zn})),n.d(t,"default",(function(){return Nn})),n.d(t,"Pallet",(function(){return Jn})),n.d(t,"PalletJockey",(function(){return cr})),n.d(t,"Person",(function(){return gr})),n.d(t,"PolygonExtrude",(function(){return Sr})),n.d(t,"Rack",(function(){return Fr})),n.d(t,"RackTable",(function(){return jo})),n.d(t,"RackTableCell",(function(){return Co})),n.d(t,"RectExtrude",(function(){return Fo})),n.d(t,"RollerConveyor",(function(){return ei})),n.d(t,"Sphere",(function(){return hi})),n.d(t,"Stock",(function(){return Cr})),n.d(t,"TextTextureObject",(function(){return wi})),n.d(t,"ThreeContainer",(function(){return Ri})),n.d(t,"VideoPlayer360",(function(){return Gi})),n.d(t,"Visualizer",(function(){return Hi})),n.d(t,"Wall",(function(){return ia})),n.d(t,"Worker1",(function(){return wa})),n.d(t,"Worker2",(function(){return Na})),n.d(t,"Worker3",(function(){return Xa}))}]);
//# sourceMappingURL=things-scene-visualizer.js.map